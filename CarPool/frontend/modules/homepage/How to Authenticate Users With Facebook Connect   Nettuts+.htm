<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!-- saved from url=(0091)http://net.tutsplus.com/tutorials/php/how-to-authenticate-your-users-with-facebook-connect/ -->
<html xmlns="http://www.w3.org/1999/xhtml"><object type="{0C55C096-0F1D-4F28-AAA2-85EF591126E7}" cotype="cs" id="cosymantecbfw" style="width: 0px; height: 0px; display: block;"><script async="" src="./How to Authenticate Users With Facebook Connect   Nettuts+_files/saved_resource"></script><script src="./How to Authenticate Users With Facebook Connect   Nettuts+_files/cb=gapi.loaded_0" async=""></script><script type="text/javascript" async="" src="./How to Authenticate Users With Facebook Connect   Nettuts+_files/plusone.js" gapi_processed="true"></script><script src="./How to Authenticate Users With Facebook Connect   Nettuts+_files/ga.js" async="true"></script></object><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>How to Authenticate Users With Facebook Connect | Nettuts+</title><link rel="stylesheet" href="./How to Authenticate Users With Facebook Connect   Nettuts+_files/saved_resource(1)" type="text/css" media="screen"><link href="./How to Authenticate Users With Facebook Connect   Nettuts+_files/widget.css" rel="stylesheet" type="text/css" media="screen"><link rel="shortcut icon" href="http://net.tutsplus.com/wp-content/themes/tuts/images/theme/nettuts/favicon.ico"><link rel="apple-touch-icon" href="http://net.tutsplus.com/wp-content/themes/tuts/images/theme/nettuts/apple-touch-icon.png">  <script>Env = window.Env || {};
  Env.facebookUrl = 'http://facebook.com/nettutsplus';
  Env.mailChimpUrl = 'http://net.tutsplus.com/wp-content/themes/tuts/functions/mc/mail-chimp.php';
  Env.trackingCode = 'UA-11792865-8';
  Env.boxUrl = 'http://net.tutsplus.com/wp-content/themes/tuts/images/global/box.gif';
      Env.trackingFields = [
      {id: 1, name: 'Author', value: 'Rafael Soto'},
      {id: 2, name: 'Category', value: 'tutorials/php'},
      {id: 3, name: 'Publish Date', value: '2010-06'}
    ];</script> <script type="text/javascript" src="./How to Authenticate Users With Facebook Connect   Nettuts+_files/saved_resource(2)"></script> <link rel="stylesheet" id="print-css" href="./How to Authenticate Users With Facebook Connect   Nettuts+_files/print.css" type="text/css" media="print"><link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://net.tutsplus.com/xmlrpc.php?rsd"><link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://net.tutsplus.com/wp-includes/wlwmanifest.xml"><link rel="prev" title="Magento for Designers: Part 5" href="http://net.tutsplus.com/tutorials/php/magento-for-designers-part-5/"><link rel="next" title="Quick Tip: Did Internet Explorer get the Box Model Right?" href="http://net.tutsplus.com/tutorials/html-css-techniques/quick-tip-did-internet-explorer-get-the-box-model-right/"><link rel="shortlink" href="http://net.tutsplus.com/?p=12302"><meta name="description" content="Lately, there&#39;s been quite a fuzz about lazy registration. It turns out that the less the user has to think, the higher the conversion rates are! What a"><meta name="keywords" content="authentication,facebook,php"><link rel="canonical" href="./How to Authenticate Users With Facebook Connect   Nettuts+_files/How to Authenticate Users With Facebook Connect   Nettuts+.htm">  <script type="text/javascript">AudioPlayer.setup("http://net.tutsplus.com/wp-content/plugins/audio-player/assets/player.swf?ver=2.0.4.1", {width:"290",animation:"yes",encode:"no",initialvolume:"60",remaining:"no",noinfo:"yes",buffer:"5",checkpolicy:"no",rtl:"no",bg:"468175",text:"ffffff",leftbg:"468175",lefticon:"ffffff",volslider:"b2d1cb",voltrack:"FFFFFF",rightbg:"468175",rightbghover:"75ada2",righticon:"ffffff",righticonhover:"FFFFFF",track:"468175",loader:"75ada2",border:"468175",tracker:"75ada2",skip:"ffffff",pagebg:"FFFFFF",transparentpagebg:"yes"});</script><style type="text/css" media="screen">p.audioplayer_container span {visibility:hidden;height:24px;overflow:hidden;padding:0;border:none;}</style> <meta id="syntaxhighlighteranchor" name="syntaxhighlighter-version" content="3.1.3">  <script type="text/javascript" src="./How to Authenticate Users With Facebook Connect   Nettuts+_files/wt_capi.js"></script> <link rel="alternate" type="application/rss+xml" title="Nettuts+ RSS Feed" href="http://net.tutsplus.com/feed/"><link rel="pingback" href="http://net.tutsplus.com/xmlrpc.php"><meta name="google-site-verification" content="aoXTcdQJMMCGh8FUsMlj35Qw-2jK83Wpt7XnqUPB9KI"><link href="https://plus.google.com/100395074731712398322" rel="publisher"><script type="text/javascript" async="" src="./How to Authenticate Users With Facebook Connect   Nettuts+_files/bsa.js"></script><script type="text/javascript" src="./How to Authenticate Users With Facebook Connect   Nettuts+_files/wt_lib.js" async="true" defer="true"></script><script type="text/javascript" async="" src="./How to Authenticate Users With Facebook Connect   Nettuts+_files/all.js"></script><script type="text/javascript" id="_bsap_js_d754f1e9ba63a736ba8ff5ece958f7dd" src="./How to Authenticate Users With Facebook Connect   Nettuts+_files/s_d754f1e9ba63a736ba8ff5ece958f7dd.js" async="async"></script><script type="text/javascript" async="" src="./How to Authenticate Users With Facebook Connect   Nettuts+_files/embed.js"></script><script type="text/javascript" src="./How to Authenticate Users With Facebook Connect   Nettuts+_files/WT3D42uQ1utd5mN49EMAzksZgZgvX6ZLZ1EGYaiMeBy9In43d3eNRyY1y5N9Yz-9hZdrMVSV70lzyMFQMr8kNOol4QK-KsoSi9YHYOS4tXFbNY-NHaVJtyG2N2L_VWOYU_56ykcjxB-NxuhCZDvX" async="true" defer="true"></script><script async="" type="text/javascript" src="./How to Authenticate Users With Facebook Connect   Nettuts+_files/count.js"></script><script type="text/javascript" src="./How to Authenticate Users With Facebook Connect   Nettuts+_files/jobs.all.js"></script><style type="text/css">.fb_hidden{position:absolute;top:-10000px;z-index:10001}
.fb_invisible{display:none}
.fb_reset{background:none;border-spacing:0;border:0;color:#000;cursor:auto;direction:ltr;font-family:"lucida grande", tahoma, verdana, arial, sans-serif;font-size:11px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal}
.fb_link img{border:none}
.fb_dialog{background:rgba(82, 82, 82, .7);position:absolute;top:-10000px;z-index:10001}
.fb_dialog_advanced{padding:10px;-moz-border-radius:8px;-webkit-border-radius:8px;border-radius:8px}
.fb_dialog_content{background:#fff;color:#333}
.fb_dialog_close_icon{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yA/x/IE9JII6Z1Ys.png) no-repeat scroll 0 0 transparent;_background-image:url(http://static.ak.fbcdn.net/rsrc.php/v2/y6/x/s816eWC-2sl.gif);cursor:pointer;display:block;height:15px;position:absolute;right:18px;top:17px;width:15px;top:8px\9;right:7px\9}
.fb_dialog_mobile .fb_dialog_close_icon{top:5px;left:5px;right:auto}
.fb_dialog_padding{background-color:transparent;position:absolute;width:1px;z-index:-1}
.fb_dialog_close_icon:hover{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yA/x/IE9JII6Z1Ys.png) no-repeat scroll 0 -15px transparent;_background-image:url(http://static.ak.fbcdn.net/rsrc.php/v2/y6/x/s816eWC-2sl.gif)}
.fb_dialog_close_icon:active{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yA/x/IE9JII6Z1Ys.png) no-repeat scroll 0 -30px transparent;_background-image:url(http://static.ak.fbcdn.net/rsrc.php/v2/y6/x/s816eWC-2sl.gif)}
.fb_dialog_loader{background-color:#f2f2f2;border:1px solid #606060;font-size:24px;padding:20px}
.fb_dialog_top_left,
.fb_dialog_top_right,
.fb_dialog_bottom_left,
.fb_dialog_bottom_right{height:10px;width:10px;overflow:hidden;position:absolute}
/* @noflip */
.fb_dialog_top_left{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yR/x/8YeTNIlTZjm.png) no-repeat 0 0;left:-10px;top:-10px}
/* @noflip */
.fb_dialog_top_right{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yR/x/8YeTNIlTZjm.png) no-repeat 0 -10px;right:-10px;top:-10px}
/* @noflip */
.fb_dialog_bottom_left{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yR/x/8YeTNIlTZjm.png) no-repeat 0 -20px;bottom:-10px;left:-10px}
/* @noflip */
.fb_dialog_bottom_right{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yR/x/8YeTNIlTZjm.png) no-repeat 0 -30px;right:-10px;bottom:-10px}
.fb_dialog_vert_left,
.fb_dialog_vert_right,
.fb_dialog_horiz_top,
.fb_dialog_horiz_bottom{position:absolute;background:#525252;filter:alpha(opacity=70);opacity:.7}
.fb_dialog_vert_left,
.fb_dialog_vert_right{width:10px;height:100%}
.fb_dialog_vert_left{margin-left:-10px}
.fb_dialog_vert_right{right:0;margin-right:-10px}
.fb_dialog_horiz_top,
.fb_dialog_horiz_bottom{width:100%;height:10px}
.fb_dialog_horiz_top{margin-top:-10px}
.fb_dialog_horiz_bottom{bottom:0;margin-bottom:-10px}
.fb_dialog_iframe{line-height:0}
.fb_dialog_content .dialog_title{background:#6d84b4;border:1px solid #3b5998;color:#fff;font-size:14px;font-weight:bold;margin:0}
.fb_dialog_content .dialog_title > span{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yD/x/Cou7n-nqK52.gif)
no-repeat 5px 50%;float:left;padding:5px 0 7px 26px}
body.fb_hidden{-webkit-transform:none;height:100%;margin:0;left:-10000px;overflow:visible;position:absolute;top:-10000px;width:100%
}
.fb_dialog.fb_dialog_mobile.loading{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yc/x/3rhSv5V8j3o.gif)
white no-repeat 50% 50%;min-height:100%;min-width:100%;overflow:hidden;position:absolute;top:0;z-index:10001}
.fb_dialog.fb_dialog_mobile.loading.centered{max-height:590px;min-height:590px;max-width:500px;min-width:500px}
#fb-root #fb_dialog_ipad_overlay{background:rgba(0, 0, 0, .45);position:absolute;left:0;top:0;width:100%;min-height:100%;z-index:10000}
#fb-root #fb_dialog_ipad_overlay.hidden{display:none}
.fb_dialog.fb_dialog_mobile.loading iframe{visibility:hidden}
.fb_dialog_content .dialog_header{-webkit-box-shadow:white 0 1px 1px -1px inset;background:-webkit-gradient(linear, 0 0, 0 100%, from(#738ABA), to(#2C4987));border-bottom:1px solid;border-color:#1d4088;color:#fff;font:14px Helvetica, sans-serif;font-weight:bold;text-overflow:ellipsis;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0;vertical-align:middle;white-space:nowrap}
.fb_dialog_content .dialog_header table{-webkit-font-smoothing:subpixel-antialiased;height:43px;width:100%
}
.fb_dialog_content .dialog_header td.header_left{font-size:12px;padding-left:5px;vertical-align:middle;width:60px
}
.fb_dialog_content .dialog_header td.header_right{font-size:12px;padding-right:5px;vertical-align:middle;width:60px
}
.fb_dialog_content .touchable_button{background:-webkit-gradient(linear, 0 0, 0 100%, from(#4966A6),
color-stop(0.5, #355492), to(#2A4887));border:1px solid #29447e;-webkit-background-clip:padding-box;-webkit-border-radius:3px;-webkit-box-shadow:rgba(0, 0, 0, .117188) 0 1px 1px inset,
rgba(255, 255, 255, .167969) 0 1px 0;display:inline-block;margin-top:3px;max-width:85px;line-height:18px;padding:4px 12px;position:relative}
.fb_dialog_content .dialog_header .touchable_button input{border:none;background:none;color:#fff;font:12px Helvetica, sans-serif;font-weight:bold;margin:2px -12px;padding:2px 6px 3px 6px;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}
.fb_dialog_content .dialog_header .header_center{color:#fff;font-size:16px;font-weight:bold;line-height:18px;text-align:center;vertical-align:middle}
.fb_dialog_content .dialog_content{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yJ/x/jKEcVPZFk-2.gif) no-repeat 50% 50%;border:1px solid #555;border-bottom:0;border-top:0;height:150px}
.fb_dialog_content .dialog_footer{background:#f2f2f2;border:1px solid #555;border-top-color:#ccc;height:40px}
#fb_dialog_loader_close{float:left}
.fb_dialog.fb_dialog_mobile .fb_dialog_close_button{text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}
.fb_dialog.fb_dialog_mobile .fb_dialog_close_icon{visibility:hidden}
.fb_iframe_widget{position:relative;display:-moz-inline-block;display:inline-block}
.fb_iframe_widget iframe{position:absolute}
.fb_iframe_widget_lift{z-index:1}
.fb_iframe_widget span{display:inline-block;position:relative;text-align:justify;vertical-align:text-bottom}
.fb_hide_iframes iframe{position:relative;left:-10000px}
.fb_iframe_widget_loader{position:relative;display:inline-block}
.fb_iframe_widget_fluid{display:inline}
.fb_iframe_widget_fluid span{width:100%}
.fb_iframe_widget_loader iframe{min-height:32px;z-index:2;zoom:1}
.fb_iframe_widget_loader .FB_Loader{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yJ/x/jKEcVPZFk-2.gif) no-repeat;height:32px;width:32px;margin-left:-16px;position:absolute;left:50%;z-index:4}
.fb_button_simple,
.fb_button_simple_rtl{background-image:url(http://static.ak.fbcdn.net/rsrc.php/v2/yH/x/eIpbnVKI9lR.png);background-repeat:no-repeat;cursor:pointer;outline:none;text-decoration:none}
.fb_button_simple_rtl{background-position:right 0}
.fb_button_simple .fb_button_text{margin:0 0 0 20px;padding-bottom:1px}
.fb_button_simple_rtl .fb_button_text{margin:0 10px 0 0}
a.fb_button_simple:hover .fb_button_text,
a.fb_button_simple_rtl:hover .fb_button_text,
.fb_button_simple:hover .fb_button_text,
.fb_button_simple_rtl:hover .fb_button_text{text-decoration:underline}
.fb_button,
.fb_button_rtl{background:#29447e url(http://static.ak.fbcdn.net/rsrc.php/v2/yl/x/FGFbc80dUKj.png);background-repeat:no-repeat;cursor:pointer;display:inline-block;padding:0 0 0 1px;text-decoration:none;outline:none}
.fb_button .fb_button_text,
.fb_button_rtl .fb_button_text{background:#5f78ab url(http://static.ak.fbcdn.net/rsrc.php/v2/yl/x/FGFbc80dUKj.png);border-top:solid 1px #879ac0;border-bottom:solid 1px #1a356e;color:#fff;display:block;font-family:"lucida grande",tahoma,verdana,arial,sans-serif;font-weight:bold;padding:2px 6px 3px 6px;margin:1px 1px 0 21px;text-shadow:none}
a.fb_button,
a.fb_button_rtl,
.fb_button,
.fb_button_rtl{text-decoration:none}
a.fb_button:active .fb_button_text,
a.fb_button_rtl:active .fb_button_text,
.fb_button:active .fb_button_text,
.fb_button_rtl:active .fb_button_text{border-bottom:solid 1px #29447e;border-top:solid 1px #45619d;background:#4f6aa3;text-shadow:none}
.fb_button_xlarge,
.fb_button_xlarge_rtl{background-position:left -60px;font-size:24px;line-height:30px}
.fb_button_xlarge .fb_button_text{padding:3px 8px 3px 12px;margin-left:38px}
a.fb_button_xlarge:active{background-position:left -99px}
.fb_button_xlarge_rtl{background-position:right -268px}
.fb_button_xlarge_rtl .fb_button_text{padding:3px 8px 3px 12px;margin-right:39px}
a.fb_button_xlarge_rtl:active{background-position:right -307px}
.fb_button_large,
.fb_button_large_rtl{background-position:left -138px;font-size:13px;line-height:16px}
.fb_button_large .fb_button_text{margin-left:24px;padding:2px 6px 4px 6px}
a.fb_button_large:active{background-position:left -163px}
.fb_button_large_rtl{background-position:right -346px}
.fb_button_large_rtl .fb_button_text{margin-right:25px}
a.fb_button_large_rtl:active{background-position:right -371px}
.fb_button_medium,
.fb_button_medium_rtl{background-position:left -188px;font-size:11px;line-height:14px}
a.fb_button_medium:active{background-position:left -210px}
.fb_button_medium_rtl{background-position:right -396px}
.fb_button_text_rtl,
.fb_button_medium_rtl .fb_button_text{padding:2px 6px 3px 6px;margin-right:22px}
a.fb_button_medium_rtl:active{background-position:right -418px}
.fb_button_small,
.fb_button_small_rtl{background-position:left -232px;font-size:10px;line-height:10px}
.fb_button_small .fb_button_text{padding:2px 6px 3px;margin-left:17px}
a.fb_button_small:active,
.fb_button_small:active{background-position:left -250px}
.fb_button_small_rtl{background-position:right -440px}
.fb_button_small_rtl .fb_button_text{padding:2px 6px;margin-right:18px}
a.fb_button_small_rtl:active{background-position:right -458px}
.fb_share_count_wrapper{position:relative;float:left}
.fb_share_count{background:#b0b9ec none repeat scroll 0 0;color:#333;font-family:"lucida grande", tahoma, verdana, arial, sans-serif;text-align:center}
.fb_share_count_inner{background:#e8ebf2;display:block}
.fb_share_count_right{margin-left:-1px;display:inline-block}
.fb_share_count_right .fb_share_count_inner{border-top:solid 1px #e8ebf2;border-bottom:solid 1px #b0b9ec;margin:1px 1px 0 1px;font-size:10px;line-height:10px;padding:2px 6px 3px;font-weight:bold}
.fb_share_count_top{display:block;letter-spacing:-1px;line-height:34px;margin-bottom:7px;font-size:22px;border:solid 1px #b0b9ec}
.fb_share_count_nub_top{border:none;display:block;position:absolute;left:7px;top:35px;margin:0;padding:0;width:6px;height:7px;background-repeat:no-repeat;background-image:url(http://static.ak.fbcdn.net/rsrc.php/v2/yP/x/bSOHtKbCGYI.png)}
.fb_share_count_nub_right{border:none;display:inline-block;padding:0;width:5px;height:10px;background-repeat:no-repeat;background-image:url(http://static.ak.fbcdn.net/rsrc.php/v2/yL/x/i_oIVTKMYsL.png);vertical-align:top;background-position:right 5px;z-index:10;left:2px;margin:0 2px 0 0;position:relative}
.fb_share_no_count{display:none}
.fb_share_size_Small .fb_share_count_right .fb_share_count_inner{font-size:10px}
.fb_share_size_Medium .fb_share_count_right .fb_share_count_inner{font-size:11px;padding:2px 6px 3px;letter-spacing:-1px;line-height:14px}
.fb_share_size_Large .fb_share_count_right .fb_share_count_inner{font-size:13px;line-height:16px;padding:2px 6px 4px;font-weight:normal;letter-spacing:-1px}
.fb_share_count_hidden .fb_share_count_nub_top,
.fb_share_count_hidden .fb_share_count_top,
.fb_share_count_hidden .fb_share_count_nub_right,
.fb_share_count_hidden .fb_share_count_right{visibility:hidden}
.fb_connect_bar_container div,
.fb_connect_bar_container span,
.fb_connect_bar_container a,
.fb_connect_bar_container img,
.fb_connect_bar_container strong{background:none;border-spacing:0;border:0;direction:ltr;font-style:normal;font-variant:normal;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal;vertical-align:baseline}
.fb_connect_bar_container{position:fixed;left:0 !important;right:0 !important;height:42px !important;padding:0 25px !important;margin:0 !important;vertical-align:middle !important;border-bottom:1px solid #333 !important;background:#3b5998 !important;z-index:99999999 !important;overflow:hidden !important}
.fb_connect_bar_container_ie6{position:absolute;top:expression(document.compatMode=="CSS1Compat"? document.documentElement.scrollTop+"px":body.scrollTop+"px")}
.fb_connect_bar{position:relative;margin:auto;height:100%;width:100%;padding:6px 0 0 0 !important;background:none;color:#fff !important;font-family:"lucida grande", tahoma, verdana, arial, sans-serif !important;font-size:13px !important;font-style:normal !important;font-variant:normal !important;font-weight:normal !important;letter-spacing:normal !important;line-height:1 !important;text-decoration:none !important;text-indent:0 !important;text-shadow:none !important;text-transform:none !important;white-space:normal !important;word-spacing:normal !important}
.fb_connect_bar a:hover{color:#fff}
.fb_connect_bar .fb_profile img{height:30px;width:30px;vertical-align:middle;margin:0 6px 5px 0}
.fb_connect_bar div a,
.fb_connect_bar span,
.fb_connect_bar span a{color:#bac6da;font-size:11px;text-decoration:none}
.fb_connect_bar .fb_buttons{float:right;margin-top:7px}
.fb_edge_widget_with_comment{position:relative;*z-index:1000}
.fb_edge_widget_with_comment span.fb_edge_comment_widget{position:absolute}
.fb_edge_widget_with_comment span.fb_send_button_form_widget{z-index:1}
.fb_edge_widget_with_comment span.fb_send_button_form_widget .FB_Loader{left:0;top:1px;margin-top:6px;margin-left:0;background-position:50% 50%;background-color:#fff;height:150px;width:394px;border:1px #666 solid;border-bottom:2px solid #283e6c;z-index:1}
.fb_edge_widget_with_comment span.fb_send_button_form_widget.dark .FB_Loader{background-color:#000;border-bottom:2px solid #ccc}
.fb_edge_widget_with_comment span.fb_send_button_form_widget.siderender
.FB_Loader{margin-top:0}
.fbpluginrecommendationsbarleft,
.fbpluginrecommendationsbarright{position:fixed !important;bottom:0;z-index:999}
/* @noflip */
.fbpluginrecommendationsbarleft{left:10px}
/* @noflip */
.fbpluginrecommendationsbarright{right:10px}</style><script type="text/javascript" async="" src="./How to Authenticate Users With Facebook Connect   Nettuts+_files/saved_resource(3)"></script><script type="text/javascript" id="waxCS">var WAX = function () { var _arrInputs; window.addEventListener('waxSetArr', function(evt) {_arrInputs=evt.detail;}); return { getElement: function (i) { return _arrInputs[i]; } } }(); function waxGetElement(i) { return WAX.getElement(i); }</script><style type="text/css" id="bsa_css">div.bsap_1616{width:100%;display:block}div.bsap_1616 a{width:200px}div.bsap_1616 a img{padding:0}div.bsap_1616 a em{font-style:normal}div.bsap_1616 a{display:block;font-size:11px;color:#888;font-family:verdana,sans-serif;margin:0 4px 10px 0;text-align:center;text-decoration:none;overflow:hidden;}div.bsap_1616 img{border:0;clear:right;}div.bsap_1616 a.adhere{color:#666;font-weight:bold;font-size:12px;border:1px solid #ccc;background:#e7e7e7;text-align:center;}div.bsap_1616 a.adhere:hover{border:1px solid #999;background:#ddd;color:#333;}div.bsap_1616 a{line-height:100%}div.bsap_1616 a.adhere{width:200px;height:125px;line-height:1000%}html>body div.bsap_1616 a.adhere{width:198px;height:123px}div.bsap_1616 img.s{height:0;width:0}div.bsap_1245834{width:100%;display:block}div.bsap_1245834 a{width:728px}div.bsap_1245834 a img{padding:0}div.bsap_1245834 a em{font-style:normal}div.bsap_1245834 a{display:block;font-size:11px;color:#888;font-family:verdana,sans-serif;margin:0 4px 10px 0;text-align:center;text-decoration:none;overflow:hidden;float:left;}div.bsap_1245834 img{border:0;clear:right;}div.bsap_1245834 a.adhere{color:#666;font-weight:bold;font-size:12px;border:1px solid #ccc;background:#e7e7e7;text-align:center;}div.bsap_1245834 a.adhere:hover{border:1px solid #999;background:#ddd;color:#333;}div.bsap_1245834 a{line-height:100%}div.bsap_1245834 a.adhere{width:728px;height:90px;line-height:720%}html>body div.bsap_1245834 a.adhere{width:726px;height:88px}div.bsap_1245834 img.s{height:0;width:0}div.bsap_1245834{line-height:9px}div.bsap_1245834 .bsap_adhere2,div.bsap_1245834 iframe{float:left}div.bsap_1245834 .bsap_adhere2 a{height:90px;width:20px;background:url(http://s3.buysellads.com/ac/ah20x90_1.gif) no-repeat 0 0;text-indent:-9999px}div.bsap_1260864{width:100%;display:block}div.bsap_1260864 a{width:300px}div.bsap_1260864 a img{padding:0}div.bsap_1260864 a em{font-style:normal}div.bsap_1260864 a{display:block;font-size:11px;color:#888;font-family:verdana,sans-serif;margin:0;text-align:center;text-decoration:none;overflow:hidden;float:left;}div.bsap_1260864 img{border:0;clear:right;}div.bsap_1260864 a.adhere{color:#666;font-weight:bold;font-size:12px;border:1px solid #ccc;background:#e7e7e7;text-align:center;}div.bsap_1260864 a.adhere:hover{border:1px solid #999;background:#ddd;color:#333;}div.bsap_1260864 a{line-height:100%}div.bsap_1260864 a.adhere{width:300px;height:250px;line-height:2000%}html>body div.bsap_1260864 a.adhere{width:298px;height:248px}div.bsap_1260864 img.s{height:0;width:0}div.bsap_1260864{line-height:9px}div.bsap_1260864 .bsap_adhere a{height:19px;width:298px;font-size:10px;background:#f1f1f1;border:1px solid #e1e1e1;border-top:none;border-bottom-left-radius:4px;-moz-border-radius-bottomleft:4px;-webkit-border-bottom-left-radius:4px;border-bottom-right-radius:4px;-moz-border-radius-bottomright:4px;-webkit-border-bottom-right-radius:4px;text-shadow:1px 1px 0 #fff;line-height:16px}.bsap_backfillframe{border:0}</style><script type="text/javascript" async="" src="./How to Authenticate Users With Facebook Connect   Nettuts+_files/count(1).js"></script><script type="text/javascript" async="" src="./How to Authenticate Users With Facebook Connect   Nettuts+_files/track.php"></script></head><body class="single single-post postid-12302 single-format-standard" data-twttr-rendered="true">  <script type="text/javascript">/*<![CDATA[*/if(window.WTOptimize && typeof wtObj != "undefined"){
    WTOptimize.setup(wtObj);
  }/*]]>*/</script>  <script type="text/javascript">if (!plus_member_logged_in()) {
  (function(){
    var bsa = document.createElement('script');
       bsa.type = 'text/javascript';
       bsa.async = true;
       bsa.src = '//s3.buysellads.com/ac/bsa.js';
    (document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(bsa);
  })();
}</script> <div id="fb-root" class=" fb_reset"><div style="position: absolute; top: -10000px; height: 0px; width: 0px;"><div><iframe name="fb_xdm_frame_http" frameborder="0" allowtransparency="true" scrolling="no" aria-hidden="true" title="Facebook Cross Domain Communication Frame" tab-index="-1" style="border: none;" src="./How to Authenticate Users With Facebook Connect   Nettuts+_files/xd_arbiter.htm"></iframe><iframe name="fb_xdm_frame_https" frameborder="0" allowtransparency="true" scrolling="no" aria-hidden="true" title="Facebook Cross Domain Communication Frame" tab-index="-1" style="border: none;" src="./How to Authenticate Users With Facebook Connect   Nettuts+_files/xd_arbiter(1).htm"></iframe></div></div><div style="position: absolute; top: -10000px; height: 0px; width: 0px;"><div></div></div></div>  <script type="text/javascript">(function(){
  var fb = document.createElement('script');
  fb.type = 'text/javascript';
  fb.async = true;
  fb.src = document.location.protocol + '//connect.facebook.net/en_US/all.js#xfbml=1';
  (document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(fb);
})();</script> <div id="header_wrap"><div id="header"> <a href="http://net.tutsplus.com/" class="logo">Nettuts+</a><ul class="top_navigation"><li><a href="http://net.tutsplus.com/advertise/">Advertise</a></li><li><a href="http://net.tutsplus.com/about/write-a-tutorial/">Write for Us</a></li><li><a href="http://net.tutsplus.com/about/">About</a></li></ul><div class="search_form"><form method="get" action="http://net.tutsplus.com/"> <input type="text" class="submit_input" name="s" id="s" placeholder="Search..."> <input class="submit_button" type="submit" value="Search"></form></div><div id="navigation"><ul class="navigation"><li class="parent"><a href="http://net.tutsplus.com/category/tutorials/">Tutorials</a><ul class="child-nav"><li class="cat-item cat-item-568"><a href="http://net.tutsplus.com/category/tutorials/asp-net/" title="ASP.NET programming tutorials.">ASP.NET</a></li><li class="cat-item cat-item-464"><a href="http://net.tutsplus.com/category/tutorials/cmss/" title="Tutorials that details how to work with various CMSs.">CMSs</a></li><li class="cat-item cat-item-547"><a href="http://net.tutsplus.com/category/tutorials/databases/" title="Learn how to work more efficiently with databases.">Databases</a></li><li class="cat-item cat-item-286"><a href="http://net.tutsplus.com/category/tutorials/design-tutorials/" title="Learn the ins and outs of web design.">Design</a></li><li class="cat-item cat-item-8"><a href="http://net.tutsplus.com/category/tutorials/html-css-techniques/" title="Get up to speed with HTML and CSS.">HTML &amp; CSS</a></li><li class="cat-item cat-item-10"><a href="http://net.tutsplus.com/category/tutorials/javascript-ajax/" title="Learn about vanilla JavaScript, and the various popular libraries that are available, like jQuery.">JavaScript &amp; AJAX</a></li><li class="cat-item cat-item-153"><a href="http://net.tutsplus.com/category/tutorials/other/" title="View all posts filed under Other">Other</a></li><li class="cat-item cat-item-41"><a href="http://net.tutsplus.com/category/tutorials/php/" title="Learn how to use PHP.">PHP</a></li><li class="cat-item cat-item-1285"><a href="http://net.tutsplus.com/category/tutorials/python-tutorials/" title="View all posts filed under Python">Python</a></li><li class="cat-item cat-item-124"><a href="http://net.tutsplus.com/category/tutorials/ruby/" title="High quality Ruby and RoR tutorials and screencasts.">Ruby</a></li><li class="cat-item cat-item-7"><a href="http://net.tutsplus.com/category/tutorials/site-builds/" title="Learn how to convert a PSD to HTML from scratch.">Site Builds</a></li><li class="cat-item cat-item-29"><a href="http://net.tutsplus.com/category/tutorials/tools-and-tips/" title="Details the most popular tools when building web applications.">Tools &amp; Tips</a></li><li class="cat-item cat-item-35"><a href="http://net.tutsplus.com/category/tutorials/wordpress/" title="Become a WordPress master.">Wordpress</a></li></ul></li><li class="parent"><a href="http://net.tutsplus.com/category/articles/">Articles</a><ul class="child-nav"><li class="cat-item cat-item-1334"><a href="http://net.tutsplus.com/category/articles/editorials/" title="Opinion pieces on the web development arena. ">Editorials</a></li><li class="cat-item cat-item-128"><a href="http://net.tutsplus.com/category/articles/general/" title="Generic articles on web development.">General</a></li><li class="cat-item cat-item-127"><a href="http://net.tutsplus.com/category/articles/interviews/" title="Interviews with prominent developers in the web development industry.">Interviews</a></li><li class="cat-item cat-item-1084"><a href="http://net.tutsplus.com/category/articles/lectures/" title="Featured talks from web development conferences around the world.">Lectures</a></li><li class="cat-item cat-item-1"><a href="http://net.tutsplus.com/category/articles/news/" title="Recent news in the web development industry.">News</a></li><li class="cat-item cat-item-1251"><a href="http://net.tutsplus.com/category/articles/quizzes/" title="Quizzes to check your knowledge.">Quizzes</a></li><li class="cat-item cat-item-437"><a href="http://net.tutsplus.com/category/articles/reviews/" title="Reviews of new web apps, frameworks, and books.">Reviews</a></li><li class="cat-item cat-item-1379"><a href="http://net.tutsplus.com/category/articles/roundups-articles/" title="Compilations of tools, frameworks and other assorted stuff.">Roundups</a></li><li class="cat-item cat-item-23"><a href="http://net.tutsplus.com/category/articles/web-roundups/" title="Compilations of popular articles from around the web.">Web Roundups</a></li></ul></li><li class="parent"><a href="http://net.tutsplus.com/tag/tips/">Tips</a><ul class="child-nav"><li><a href="http://net.tutsplus.com/category/articles/?tag=tips" title="Articles">Articles</a></li><li><a href="http://net.tutsplus.com/category/tutorials/tools-and-tips/?tag=tips" title="Tools &amp; Tips">Tools &amp; Tips</a></li><li><a href="http://net.tutsplus.com/category/tutorials/javascript-ajax/?tag=tips" title="JavaScript &amp; AJAX">JavaScript &amp; AJAX</a></li><li><a href="http://net.tutsplus.com/category/tutorials/other/?tag=tips" title="Other">Other</a></li><li><a href="http://net.tutsplus.com/category/tutorials/php/?tag=tips" title="PHP">PHP</a></li><li><a href="http://net.tutsplus.com/category/tutorials/?tag=tips" title="Tutorials">Tutorials</a></li></ul></li><li><a href="http://net.tutsplus.com/sessions/">Sessions</a></li><li class="parent"><a href="http://net.tutsplus.com/tag/videos/">Videos</a><ul class="child-nav"><li><a href="http://net.tutsplus.com/category/tutorials/php/?tag=videos" title="PHP">PHP</a></li><li><a href="http://net.tutsplus.com/category/tutorials/javascript-ajax/?tag=videos" title="JavaScript &amp; AJAX">JavaScript &amp; AJAX</a></li><li><a href="http://net.tutsplus.com/category/tutorials/tools-and-tips/?tag=videos" title="Tools &amp; Tips">Tools &amp; Tips</a></li><li><a href="http://net.tutsplus.com/category/articles/news/?tag=videos" title="News">News</a></li></ul></li><li id="nav-premium-link"> <a href="http://tutsplus.com/courses/?q=true&filter_topic=35" target="_blank">Tuts+ Premium</a></li></ul></div><div class="site_switcher"><ul><li class="link-hub"><a href="http://hub.tutsplus.com/">Tuts+ Hub <span>The Latest Tuts+ Updates</span></a></li><li class="link-psd"><a href="http://psd.tutsplus.com/">Psdtuts+ <span>Adobe Photoshop</span></a></li><li class="link-net"><a href="http://net.tutsplus.com/">Nettuts+ <span>Web Development</span></a></li><li class="link-vector"><a href="http://vector.tutsplus.com/">Vectortuts+ <span>Illustrator and Vector</span></a></li><li class="link-audio"><a href="http://audio.tutsplus.com/">Audiotuts+ <span>Audio and Production</span></a></li><li class="link-ae"><a href="http://ae.tutsplus.com/">Aetuts+ <span>Adobe After Effects</span></a></li><li class="link-cg"><a href="http://cg.tutsplus.com/">Cgtuts+ <span>Computer Graphics</span></a></li><li class="link-photo"><a href="http://photo.tutsplus.com/">Phototuts+ <span>Photography</span></a></li><li class="link-mobile"><a href="http://mobile.tutsplus.com/">Mobiletuts+ <span>Mobile Development</span></a></li><li class="link-webdesign"><a href="http://webdesign.tutsplus.com/">Webdesigntuts+ <span>Web Design</span></a></li><li class="link-wp"><a href="http://wp.tutsplus.com/">Wptuts+ <span>WordPress</span></a></li><li class="link-mac"><a href="http://mac.tutsplus.com/">Mactuts+ <span>Mac &amp; OS X</span></a></li><li class="link-gamedev"><a href="http://gamedev.tutsplus.com/">Gamedevtuts+ <span>Game Development</span></a></li><li class="link-craft"><a href="http://craft.tutsplus.com/">Crafttuts+ <span>Craft &amp; Handmade</span></a></li></ul> <a href="javascript:void(0);" class="site_switcher_button">Toggle</a></div><div class="header-marketplace-ad ad-themeforest"><a href="http://themeforest.net/?WT.mc_id=TutsHeader&ref=NetPremium" rel="nofollow external" target="_blank"><span>&nbsp;</span>Website Templates</a></div></div></div><div id="content_wrap"><div id="content" class="clearfix"><div class="page_wrap"><div id="leader-board-wrap" style=""><div class="leader_board"> <a href="http://net.tutsplus.com/advertise/" class="LB_advert">Advertise Here</a><div class="lb_inner"><div id="bsap_1245834" class="bsap_1245834 bsap"><a href="http://stats.buysellads.com/click.go?z=1245834&b=3151869&g=&s=&sw=1366&sh=768&br=chrome,24,win&r=0.9136629677377641&link=http://www.timothytraining.net" onmouseover="window.status = &#39;http://www.timothytraining.net&#39;; return true;" onmouseout="window.status=&#39;&#39;; return true;" class="ad1 odd" title="Free Professional Adobe Dreamweaver Training" id="bsa_3151869" target="_blank"><img src="./How to Authenticate Users With Facebook Connect   Nettuts+_files/154845-1359524764.png" width="728" height="90" alt="Free Professional Adobe Dreamweaver Training"></a></div></div></div></div> <script type="text/javascript">if (!plus_member_logged_in()) {
    $('#leader-board-wrap').show()
  }</script> <div id="page" class="single_post"><div class="page_inner"><div class="post post_inner" id="post-12302"><div class="tut_top"><div class="post_image"> <a href="./How to Authenticate Users With Facebook Connect   Nettuts+_files/How to Authenticate Users With Facebook Connect   Nettuts+.htm"><img src="./How to Authenticate Users With Facebook Connect   Nettuts+_files/200x200.jpg" alt="How to Authenticate Users With Facebook Connect" width="200" height="200" original="http://d2o0t5hpnwv4c1.cloudfront.net/708_facebook/200x200.jpg"></a></div><div class="preview"><div class="post_taxonomy"><ul><li><a href="http://net.tutsplus.com/category/tutorials/">Tutorials</a><span>\</span></li><li><a href="http://net.tutsplus.com/category/tutorials/php/">PHP</a></li></ul><div id="tuts-rating" class=""><p><span> \</span>Rating:</p><ul id="">  <li><a href="javascript:void(0)" class="rate-this one active">1</a></li>  <li><a href="javascript:void(0)" class="rate-this two active">2</a></li>  <li><a href="javascript:void(0)" class="rate-this three active">3</a></li>  <li><a href="javascript:void(0)" class="rate-this four active">4</a></li>  <li><a href="javascript:void(0)" class="rate-this five">5</a></li></ul></div></div><h1 class="post_title"> How to Authenticate Users With Facebook Connect</h1><div class="post_meta"> <a href="http://net.tutsplus.com/author/rafael-soto/" title="Posts by Rafael Soto" rel="author">Rafael Soto</a> on Jun 10th 2010 with <a href="http://net.tutsplus.com/tutorials/php/how-to-authenticate-your-users-with-facebook-connect/#disqus_thread" title="Comment on How to Authenticate Users With Facebook Connect" data-disqus-identifier="12302 http://net.tutsplus.com/?p=12302">173 Comments and 0 Reactions</a></div></div></div></div><div class="tut_bottom"><div class="tutorial_details"><h5>Tutorial Details</h5><ul><li></li><li><strong>Difficulty: </strong>Intermediate</li><li><strong>Completion Time: </strong>45 Minutes</li></ul></div><div class="article_social_media"><div class="tweetmeme_btn"> <iframe allowtransparency="true" frameborder="0" scrolling="no" src="./How to Authenticate Users With Facebook Connect   Nettuts+_files/tweet_button.1359159993.htm" class="twitter-share-button twitter-count-none" style="width: 59px; height: 20px;" title="Twitter Tweet Button" data-twttr-rendered="true"></iframe><script type="text/javascript" src="./How to Authenticate Users With Facebook Connect   Nettuts+_files/widgets.js"></script> </div><div class="facebook_send_btn"> <div style="height: 20px; width: 32px; display: inline-block; text-indent: 0px; margin: 0px; padding: 0px; background-color: transparent; border-style: none; float: none; line-height: normal; font-size: 1px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;" id="___plusone_0"><iframe frameborder="0" hspace="0" marginheight="0" marginwidth="0" scrolling="no" style="position: static; top: 0px; width: 32px; margin: 0px; border-style: none; left: 0px; visibility: visible; height: 20px;" tabindex="0" vspace="0" width="100%" id="I0_1360224553600" name="I0_1360224553600" src="./How to Authenticate Users With Facebook Connect   Nettuts+_files/fastbutton.htm" allowtransparency="true" data-gapiattached="true" title="+1"></iframe></div></div><div class="facebook_btn"> <fb:like layout="button_count" width="90" height="21" fb-xfbml-state="rendered" class="fb_edge_widget_with_comment fb_iframe_widget"><span style="height: 20px; width: 74px;"><iframe id="f1c7915238" name="f1425bb82c" scrolling="no" style="border: none; overflow: hidden; height: 20px; width: 74px;" title="Like this content on Facebook." class="fb_ltr" src="./How to Authenticate Users With Facebook Connect   Nettuts+_files/like(1).htm"></iframe></span></fb:like></div></div></div><div class="post post_inner_article"><div class="download_wrap"><div class="big_btn" style="margin-left:100px;"> <a href="http://s3.amazonaws.com/nettuts/708_facebook/source.zip" rel="external" target="_blank"><span>Download</span> <small>Source Files</small></a></div></div> <script type="text/javascript">/*<![CDATA[*///
(function($) { $(function() { WpPostRatings({context: $('#post-12302'), post_id: 12302, rpc: 'http://net.tutsplus.com/wp-admin/admin-ajax.php', base_url: 'http://net.tutsplus.com', allow_voting: true}).init() })})(jQuery)
//]]&gt;/*]]>*/</script><p>Lately, there’s been <a href="http://www.90percentofeverything.com/2009/03/16/signup-forms-must-die-heres-how-we-killed-ours/" onclick="javascript:_gaq.push([&#39;_trackEvent&#39;,&#39;outbound-article&#39;,&#39;www.90percentofeverything.com&#39;]);">quite a fuzz about lazy registration</a>. It turns out that the less the user has to think, the higher the conversion rates are! What a thought! If everybody seems to have a Facebook profile, why not add a one-click user registration? I’ll show you how to do that today.</p><p><span id="more-12302"></span></p><hr><h2><span>Step 1.</span> The Setup</h2><h3>MySQL Table</h3><p>Let’s begin by creating a database table.</p><div class="dp-highlighter"><div class="bar"><div class="tools"><a href="http://net.tutsplus.com/tutorials/php/how-to-authenticate-your-users-with-facebook-connect/#" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;">view plain</a><a href="http://net.tutsplus.com/tutorials/php/how-to-authenticate-your-users-with-facebook-connect/#" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;">copy to clipboard</a><a href="http://net.tutsplus.com/tutorials/php/how-to-authenticate-your-users-with-facebook-connect/#" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;">print</a><a href="http://net.tutsplus.com/tutorials/php/how-to-authenticate-your-users-with-facebook-connect/#" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;">?</a></div></div><ol start="1" class="dp-sql"><li class="alt"><span><span class="keyword">CREATE</span><span>&nbsp;</span><span class="keyword">TABLE</span><span>&nbsp;`users`&nbsp;(&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;`id`&nbsp;<span class="keyword">int</span><span>(10)&nbsp;unsigned&nbsp;</span><span class="op">NOT</span><span>&nbsp;</span><span class="op">NULL</span><span>&nbsp;AUTO_INCREMENT,&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;`oauth_provider`&nbsp;<span class="keyword">varchar</span><span>(10),&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;`oauth_uid`&nbsp;text,&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;`username`&nbsp;text,&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">PRIMARY</span><span>&nbsp;</span><span class="keyword">KEY</span><span>&nbsp;(`id`)&nbsp;&nbsp;</span></span></li><li class="alt"><span>)&nbsp;ENGINE=MyISAM&nbsp;&nbsp;<span class="keyword">DEFAULT</span><span>&nbsp;CHARSET=latin1;&nbsp;&nbsp;</span></span></li></ol></div><pre name="code" class="sql" style="display: none;">CREATE TABLE `users` (
    `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
    `oauth_provider` varchar(10),
    `oauth_uid` text,
    `username` text,
    PRIMARY KEY (`id`)
) ENGINE=MyISAM  DEFAULT CHARSET=latin1;
</pre><p>Quite simple: we will be setting up a table for user information with id, username, first and last name, the URL to the user’s picture, and registered date. Also, we’re adding both an <code>oauth_provider</code> and <code>oauth_uid</code> fields, to distinguish between different third party open authentication protocols and their identifiers. For example, let’s say that, next week, you decide that it’s a good idea to also let Twitter users in. Easy; you just set another value to the oauth<em>provider, and avoid duplicating oauth</em>uid values.</p><h3>The Facebook App</h3><p>Let’s begin by <a href="http://www.facebook.com/developers/createapp.php" onclick="javascript:_gaq.push([&#39;_trackEvent&#39;,&#39;outbound-article&#39;,&#39;www.facebook.com&#39;]);">creating a new application</a>. Give it a name and agree to the terms and conditions. Next, grab both the <em>API Key</em> and <em>Secret</em> in the basic tab as shown below.</p><div class="tutorial_image"> <img src="./How to Authenticate Users With Facebook Connect   Nettuts+_files/fb_basic.png" width="600" height="235" original="http://d2o0t5hpnwv4c1.cloudfront.net/708_facebook/fb_basic.png" style="display: inline-block;"></div><p>On the canvas tab, set both the <em>Canvas URL</em> and <em>Post-Authorize Redirect URL</em> to your localhost and path that the script will process — something like <code>http://localhost.com/login_facebook.php?</code>. Note the question mark at the end and the domain; both are required by Facebook. Simply set your <code>hosts</code> file to a valid domain name.</p><div class="tutorial_image"> <img src="./How to Authenticate Users With Facebook Connect   Nettuts+_files/fb_canvas.png" width="600" height="160" original="http://d2o0t5hpnwv4c1.cloudfront.net/708_facebook/fb_canvas.png" style="display: inline-block;"></div><p>On the connect tab, set the Connect URL to the same value and set <code>localhost.com</code> (or the one you are using) as the Base Domain.</p><div class="tutorial_image"> <img src="./How to Authenticate Users With Facebook Connect   Nettuts+_files/fb_connect.png" width="600" height="180" original="http://d2o0t5hpnwv4c1.cloudfront.net/708_facebook/fb_connect.png" style="display: inline-block;"></div><p>Now save, <a href="http://github.com/facebook/php-sdk/downloads" onclick="javascript:_gaq.push([&#39;_trackEvent&#39;,&#39;outbound-article&#39;,&#39;github.com&#39;]);">download the client library</a>, and unzip <code>facebook.php</code> in the <code>src</code>dir to a new directory created in the root.</p><hr><h2><span>Step 2.</span> The Callback</h2><p>The authentication flow has three steps:</p><ol><li>The local script generates a URL asking the user for permission</li><li>Facebook returns to the Canvas URL specified with a GET parameter</li><li>The GET parameter authenticates the session</li></ol><p>Let’s make a quick test before registering and login.</p><div class="dp-highlighter"><div class="bar"><div class="tools"><a href="http://net.tutsplus.com/tutorials/php/how-to-authenticate-your-users-with-facebook-connect/#" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;">view plain</a><a href="http://net.tutsplus.com/tutorials/php/how-to-authenticate-your-users-with-facebook-connect/#" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;">copy to clipboard</a><a href="http://net.tutsplus.com/tutorials/php/how-to-authenticate-your-users-with-facebook-connect/#" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;">print</a><a href="http://net.tutsplus.com/tutorials/php/how-to-authenticate-your-users-with-facebook-connect/#" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;">?</a></div></div><ol start="1" class="dp-c"><li class="alt"><span><span>#&nbsp;We&nbsp;</span><span class="keyword">require</span><span>&nbsp;the&nbsp;library&nbsp;&nbsp;</span></span></li><li class=""><span><span class="keyword">require</span><span>(</span><span class="string">"facebook.php"</span><span>);&nbsp;&nbsp;</span></span></li><li class="alt"><span>#&nbsp;Creating&nbsp;the&nbsp;facebook&nbsp;object&nbsp;&nbsp;</span></li><li class=""><span><span class="vars">$facebook</span><span>&nbsp;=&nbsp;</span><span class="keyword">new</span><span>&nbsp;Facebook(</span><span class="keyword">array</span><span>(&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string">'appId'</span><span>&nbsp;&nbsp;=&gt;&nbsp;</span><span class="string">'YOUR_APP_ID'</span><span>,&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string">'secret'</span><span>&nbsp;=&gt;&nbsp;</span><span class="string">'YOUR_APP_SECRET'</span><span>,&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string">'cookie'</span><span>&nbsp;=&gt;&nbsp;true&nbsp;&nbsp;</span></span></li><li class=""><span>));&nbsp;&nbsp;</span></li><li class="alt"><span>#&nbsp;Let<span class="string">'s&nbsp;see&nbsp;if&nbsp;we&nbsp;have&nbsp;an&nbsp;active&nbsp;session</span>&nbsp;</span></li><li class=""><span><span class="string">$session&nbsp;=&nbsp;$facebook-&gt;getSession();</span>&nbsp;</span></li><li class="alt"><span><span class="string">if(!empty($session))&nbsp;{</span>&nbsp;</span></li><li class=""><span><span class="string">&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Active&nbsp;session,&nbsp;let'</span><span>s&nbsp;try&nbsp;getting&nbsp;the&nbsp;user&nbsp;id&nbsp;(getUser())&nbsp;</span><span class="keyword">and</span><span>&nbsp;user&nbsp;info&nbsp;(api-&gt;(</span><span class="string">'/me'</span><span>))&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;try{&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="vars">$uid</span><span>&nbsp;=&nbsp;</span><span class="vars">$facebook</span><span>-&gt;getUser();&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="vars">$user</span><span>&nbsp;=&nbsp;</span><span class="vars">$facebook</span><span>-&gt;api(</span><span class="string">'/me'</span><span>);&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;catch&nbsp;(Exception&nbsp;<span class="vars">$e</span><span>){}&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">if</span><span>(!</span><span class="keyword">empty</span><span>(</span><span class="vars">$user</span><span>)){&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;User&nbsp;info&nbsp;ok?&nbsp;Let<span class="string">'s&nbsp;print&nbsp;it&nbsp;(Here&nbsp;we&nbsp;will&nbsp;be&nbsp;adding&nbsp;the&nbsp;login&nbsp;and&nbsp;registering&nbsp;routines)</span>&nbsp;</span></li><li class="alt"><span><span class="string">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print_r($user);</span>&nbsp;</span></li><li class=""><span><span class="string">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{</span>&nbsp;</span></li><li class="alt"><span><span class="string">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;For&nbsp;testing&nbsp;purposes,&nbsp;if&nbsp;there&nbsp;was&nbsp;an&nbsp;error,&nbsp;let'</span><span>s&nbsp;kill&nbsp;the&nbsp;script&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">die</span><span>(</span><span class="string">"There&nbsp;was&nbsp;an&nbsp;error."</span><span>);&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class=""><span>}&nbsp;<span class="keyword">else</span><span>&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;There<span class="string">'s&nbsp;no&nbsp;active&nbsp;session,&nbsp;let'</span><span>s&nbsp;generate&nbsp;one&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="vars">$login_url</span><span>&nbsp;=&nbsp;</span><span class="vars">$facebook</span><span>-&gt;getLoginUrl();&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;header(<span class="string">"Location:&nbsp;"</span><span>.</span><span class="vars">$login_url</span><span>);&nbsp;&nbsp;</span></span></li><li class=""><span>}&nbsp;&nbsp;</span></li></ol></div><pre name="code" class="php" style="display: none;"># We require the library
require("facebook.php");
# Creating the facebook object
$facebook = new Facebook(array(
    'appId'  =&gt; 'YOUR_APP_ID',
    'secret' =&gt; 'YOUR_APP_SECRET',
    'cookie' =&gt; true
));
# Let's see if we have an active session
$session = $facebook-&gt;getSession();
if(!empty($session)) {
    # Active session, let's try getting the user id (getUser()) and user info (api-&gt;('/me'))
    try{
        $uid = $facebook-&gt;getUser();
        $user = $facebook-&gt;api('/me');
    } catch (Exception $e){}
    if(!empty($user)){
        # User info ok? Let's print it (Here we will be adding the login and registering routines)
        print_r($user);
    } else {
        # For testing purposes, if there was an error, let's kill the script
        die("There was an error.");
    }
} else {
    # There's no active session, let's generate one
    $login_url = $facebook-&gt;getLoginUrl();
    header("Location: ".$login_url);
}
</pre><p>Now, go to <code>http://localhost.com/login_facebook.php</code>, and let’s see what happens. If you are redirected to Facebook and requested for permission, we are on the right track.</p><div class="tutorial_image"> <img src="./How to Authenticate Users With Facebook Connect   Nettuts+_files/fb_permission.png" width="600" height="292" original="http://d2o0t5hpnwv4c1.cloudfront.net/708_facebook/fb_permission.png" style="display: inline-block;"></div><p>However, there might be two issues. The first one: if you’re redirected to Facebook, but it shows an error, there might be a missing value in the configuration. Go back to your application settings and check both the Connect and Canvas tabs and make sure the fields are ok as described above.</p><p> There might be another issue, where you see an error, like “Uncaught CurlException: 60: SSL certificate problem, verify that the CA cert is OK.” This happens because of the CURL settings. You’ll have to open <code>facebook.php</code>, find the makeRequest() method, and, inside the function, find this line:</p><div class="dp-highlighter"><div class="bar"><div class="tools"><a href="http://net.tutsplus.com/tutorials/php/how-to-authenticate-your-users-with-facebook-connect/#" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;">view plain</a><a href="http://net.tutsplus.com/tutorials/php/how-to-authenticate-your-users-with-facebook-connect/#" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;">copy to clipboard</a><a href="http://net.tutsplus.com/tutorials/php/how-to-authenticate-your-users-with-facebook-connect/#" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;">print</a><a href="http://net.tutsplus.com/tutorials/php/how-to-authenticate-your-users-with-facebook-connect/#" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;">?</a></div></div><ol start="1" class="dp-c"><li class="alt"><span><span class="vars">$opts</span><span>&nbsp;=&nbsp;self::</span><span class="vars">$CURL_OPTS</span><span>;&nbsp;&nbsp;</span></span></li></ol></div><pre name="code" class="php" style="display: none;">$opts = self::$CURL_OPTS;
</pre><p>Immediately following it, add:</p><div class="dp-highlighter"><div class="bar"><div class="tools"><a href="http://net.tutsplus.com/tutorials/php/how-to-authenticate-your-users-with-facebook-connect/#" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;">view plain</a><a href="http://net.tutsplus.com/tutorials/php/how-to-authenticate-your-users-with-facebook-connect/#" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;">copy to clipboard</a><a href="http://net.tutsplus.com/tutorials/php/how-to-authenticate-your-users-with-facebook-connect/#" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;">print</a><a href="http://net.tutsplus.com/tutorials/php/how-to-authenticate-your-users-with-facebook-connect/#" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;">?</a></div></div><ol start="1" class="dp-c"><li class="alt"><span><span class="vars">$opts</span><span>[CURLOPT_SSL_VERIFYPEER]&nbsp;=&nbsp;false;&nbsp;&nbsp;</span></span></li></ol></div><pre name="code" class="php" style="display: none;">$opts[CURLOPT_SSL_VERIFYPEER] = false;
</pre><p>I hate hacking libraries, but I haven’t found another way. Well, let’s continue with user registration. I’ve also added a try/catch statement, because, if there’s an old session keys in the GET params in the URL, the script will die with a horrible error.</p><hr><h2><span>Step 3.</span> Registration and Authentication</h2><p>We’ll next be working with MySQL. Please note that I will not implement a data sanitizer, since I want to keep the code as short and on task as possible. Please keep this in mind: always sanitize your data.</p><p>First, let’s connect to the database.</p><div class="dp-highlighter"><div class="bar"><div class="tools"><a href="http://net.tutsplus.com/tutorials/php/how-to-authenticate-your-users-with-facebook-connect/#" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;">view plain</a><a href="http://net.tutsplus.com/tutorials/php/how-to-authenticate-your-users-with-facebook-connect/#" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;">copy to clipboard</a><a href="http://net.tutsplus.com/tutorials/php/how-to-authenticate-your-users-with-facebook-connect/#" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;">print</a><a href="http://net.tutsplus.com/tutorials/php/how-to-authenticate-your-users-with-facebook-connect/#" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;">?</a></div></div><ol start="1" class="dp-c"><li class="alt"><span><span>mysql_connect(</span><span class="string">'localhost'</span><span>,&nbsp;</span><span class="string">'YOUR_USERNAME'</span><span>,&nbsp;</span><span class="string">'YOUR_PASSWORD'</span><span>);&nbsp;&nbsp;</span></span></li><li class=""><span>mysql_select_db(<span class="string">'YOUR_DATABASE'</span><span>);&nbsp;&nbsp;</span></span></li></ol></div><pre name="code" class="php" style="display: none;">mysql_connect('localhost', 'YOUR_USERNAME', 'YOUR_PASSWORD');
mysql_select_db('YOUR_DATABASE');
</pre><p>Now, let’s work on the <code>$session</code> conditional, in case we have a session.</p><div class="dp-highlighter"><div class="bar"><div class="tools"><a href="http://net.tutsplus.com/tutorials/php/how-to-authenticate-your-users-with-facebook-connect/#" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;">view plain</a><a href="http://net.tutsplus.com/tutorials/php/how-to-authenticate-your-users-with-facebook-connect/#" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;">copy to clipboard</a><a href="http://net.tutsplus.com/tutorials/php/how-to-authenticate-your-users-with-facebook-connect/#" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;">print</a><a href="http://net.tutsplus.com/tutorials/php/how-to-authenticate-your-users-with-facebook-connect/#" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;">?</a></div></div><ol start="1" class="dp-c"><li class="alt"><span><span>#&nbsp;We&nbsp;have&nbsp;an&nbsp;active&nbsp;session;&nbsp;let</span><span class="string">'s&nbsp;check&nbsp;if&nbsp;we'</span><span>ve&nbsp;already&nbsp;registered&nbsp;the&nbsp;user&nbsp;&nbsp;</span></span></li><li class=""><span><span class="vars">$query</span><span>&nbsp;=&nbsp;mysql_query(</span><span class="string">"SELECT&nbsp;*&nbsp;FROM&nbsp;users&nbsp;WHERE&nbsp;oauth_provider&nbsp;=&nbsp;'facebook'&nbsp;AND&nbsp;oauth_uid&nbsp;=&nbsp;"</span><span>.&nbsp;</span><span class="vars">$user</span><span>[</span><span class="string">'id'</span><span>]);&nbsp;&nbsp;</span></span></li><li class="alt"><span><span class="vars">$result</span><span>&nbsp;=&nbsp;mysql_fetch_array(</span><span class="vars">$query</span><span>);&nbsp;&nbsp;</span></span></li><li class=""><span>#&nbsp;If&nbsp;not,&nbsp;let<span class="string">'s&nbsp;add&nbsp;it&nbsp;to&nbsp;the&nbsp;database</span>&nbsp;</span></li><li class="alt"><span><span class="string">if(empty($result)){</span>&nbsp;</span></li><li class=""><span><span class="string">&nbsp;&nbsp;&nbsp;&nbsp;$query&nbsp;=&nbsp;mysql_query("INSERT&nbsp;INTO&nbsp;users&nbsp;(oauth_provider,&nbsp;oauth_uid,&nbsp;username)&nbsp;VALUES&nbsp;('</span><span>facebook</span><span class="string">',&nbsp;{$user['</span><span>id</span><span class="string">']},&nbsp;'</span><span>{</span><span class="vars">$user</span><span>[</span><span class="string">'name'</span><span>]}')");&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="vars">$query</span><span>&nbsp;=&nbsp;msyql_query(</span><span class="string">"SELECT&nbsp;*&nbsp;FROM&nbsp;users&nbsp;WHERE&nbsp;id&nbsp;=&nbsp;"</span><span>&nbsp;.&nbsp;mysql_insert_id());&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="vars">$result</span><span>&nbsp;=&nbsp;mysql_fetch_array(</span><span class="vars">$query</span><span>);&nbsp;&nbsp;</span></span></li><li class="alt"><span>}&nbsp;&nbsp;</span></li></ol></div><pre name="code" class="php" style="display: none;"># We have an active session; let's check if we've already registered the user
$query = mysql_query("SELECT * FROM users WHERE oauth_provider = 'facebook' AND oauth_uid = ". $user['id']);
$result = mysql_fetch_array($query);
# If not, let's add it to the database
if(empty($result)){
    $query = mysql_query("INSERT INTO users (oauth_provider, oauth_uid, username) VALUES ('facebook', {$user['id']}, '{$user['name']}')");
    $query = msyql_query("SELECT * FROM users WHERE id = " . mysql_insert_id());
    $result = mysql_fetch_array($query);
}
</pre><p>Note that I’m querying the database, looking for <code>facebook</code> as a <code>oauth_provider</code>; it’s generally a good idea, if you want to accept other OAuth providers (as twitter, Google Accounts, Open ID, etc.) and a <code>oauth_uid</code>, since it’s the identifier the provider gives to its user accounts.</p><p> The <code>oauth_provider</code> field could potentially lead to bad performance if we leave it as a <code>text</code> field type. As such, the best option is setting it to an <a href="http://dev.mysql.com/doc/refman/5.0/en/enum.html" onclick="javascript:_gaq.push([&#39;_trackEvent&#39;,&#39;outbound-article&#39;,&#39;dev.mysql.com&#39;]);">ENUM type</a>.</p><p>We have now a <code>$result</code> var with the values queried from the database. Let’s next add some sessions. Add this line at the beginning of your script.</p><div class="dp-highlighter"><ol start="1" class="dp-c"><li class="alt"><span><span>session_start();&nbsp;&nbsp;</span></span></li></ol></div><pre name="code" class="php" style="display: none;">session_start();
</pre><p>After the <code>empty($result)</code> conditional, append the following:</p><div class="dp-highlighter"><div class="bar"><div class="tools"><a href="http://net.tutsplus.com/tutorials/php/how-to-authenticate-your-users-with-facebook-connect/#" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;">view plain</a><a href="http://net.tutsplus.com/tutorials/php/how-to-authenticate-your-users-with-facebook-connect/#" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;">copy to clipboard</a><a href="http://net.tutsplus.com/tutorials/php/how-to-authenticate-your-users-with-facebook-connect/#" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;">print</a><a href="http://net.tutsplus.com/tutorials/php/how-to-authenticate-your-users-with-facebook-connect/#" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;">?</a></div></div><ol start="1" class="dp-c"><li class="alt"><span><span class="keyword">if</span><span>(!</span><span class="keyword">empty</span><span>(</span><span class="vars">$user</span><span>)){&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;...&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">if</span><span>(</span><span class="keyword">empty</span><span>(</span><span class="vars">$result</span><span>)){&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;...&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;let<span class="string">'s&nbsp;set&nbsp;session&nbsp;values</span>&nbsp;</span></li><li class="alt"><span><span class="string">&nbsp;&nbsp;&nbsp;&nbsp;$_SESSION['</span><span>id</span><span class="string">']&nbsp;=&nbsp;$result['</span><span>id</span><span class="string">'];</span>&nbsp;</span></li><li class=""><span><span class="string">&nbsp;&nbsp;&nbsp;&nbsp;$_SESSION['</span><span>oauth_uid</span><span class="string">']&nbsp;=&nbsp;$result['</span><span>oauth_uid</span><span class="string">'];</span>&nbsp;</span></li><li class="alt"><span><span class="string">&nbsp;&nbsp;&nbsp;&nbsp;$_SESSION['</span><span>oauth_provider</span><span class="string">']&nbsp;=&nbsp;$result['</span><span>oauth_provider</span><span class="string">'];</span>&nbsp;</span></li><li class=""><span><span class="string">&nbsp;&nbsp;&nbsp;&nbsp;$_SESSION['</span><span>username</span><span class="string">']&nbsp;=&nbsp;$result['</span><span>username'];&nbsp;&nbsp;</span></span></li><li class="alt"><span>}&nbsp;&nbsp;</span></li></ol></div><pre name="code" class="php" style="display: none;">if(!empty($user)){
    # ...
    if(empty($result)){
        # ...
    }
    # let's set session values
    $_SESSION['id'] = $result['id'];
    $_SESSION['oauth_uid'] = $result['oauth_uid'];
    $_SESSION['oauth_provider'] = $result['oauth_provider'];
    $_SESSION['username'] = $result['username'];
}
</pre><p>As it makes little sense to authenticate a user who is already logged in, just below the <code>session_start()</code> line, add:</p><div class="tutorial_image"><script type="text/javascript">google_ad_client = "pub-9093712935949486";
/* 300x250 nettuts middle tutsads */
google_ad_slot = "1775681443";
google_ad_width = 300;
google_ad_height = 250;</script> <script type="text/javascript" src="./How to Authenticate Users With Facebook Connect   Nettuts+_files/show_ads.js"></script><ins style="display:inline-table;border:none;height:250px;margin:0;padding:0;position:relative;visibility:visible;width:300px"><ins id="aswift_0_anchor" style="display:block;border:none;height:250px;margin:0;padding:0;position:relative;visibility:visible;width:300px"><iframe width="300" height="250" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){w.location.replace(h)}}" id="aswift_0" name="aswift_0" style="left:0;position:absolute;top:0;"></iframe></ins></ins></div><div class="dp-highlighter"><div class="bar"><div class="tools"><a href="http://net.tutsplus.com/tutorials/php/how-to-authenticate-your-users-with-facebook-connect/#" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;">view plain</a><a href="http://net.tutsplus.com/tutorials/php/how-to-authenticate-your-users-with-facebook-connect/#" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;">copy to clipboard</a><a href="http://net.tutsplus.com/tutorials/php/how-to-authenticate-your-users-with-facebook-connect/#" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;">print</a><a href="http://net.tutsplus.com/tutorials/php/how-to-authenticate-your-users-with-facebook-connect/#" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;">?</a></div></div><ol start="1" class="dp-c"><li class="alt"><span><span class="keyword">if</span><span>(!</span><span class="keyword">empty</span><span>(</span><span class="vars">$_SESSION</span><span>)){&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;header(<span class="string">"Location:&nbsp;home.php"</span><span>);&nbsp;&nbsp;</span></span></li><li class="alt"><span>}&nbsp;&nbsp;</span></li></ol></div><pre name="code" class="php" style="display: none;">if(!empty($_SESSION)){
    header("Location: home.php");
}
</pre><p>And in the scripts which require authentication, just add:</p><div class="dp-highlighter"><div class="bar"><div class="tools"><a href="http://net.tutsplus.com/tutorials/php/how-to-authenticate-your-users-with-facebook-connect/#" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;">view plain</a><a href="http://net.tutsplus.com/tutorials/php/how-to-authenticate-your-users-with-facebook-connect/#" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;">copy to clipboard</a><a href="http://net.tutsplus.com/tutorials/php/how-to-authenticate-your-users-with-facebook-connect/#" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;">print</a><a href="http://net.tutsplus.com/tutorials/php/how-to-authenticate-your-users-with-facebook-connect/#" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;">?</a></div></div><ol start="1" class="dp-c"><li class="alt"><span><span>session_start();&nbsp;&nbsp;</span></span></li><li class=""><span><span class="keyword">if</span><span>(!</span><span class="keyword">empty</span><span>(</span><span class="vars">$_SESSION</span><span>)){&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;header(<span class="string">"Location:&nbsp;login_facebook.php"</span><span>);&nbsp;&nbsp;</span></span></li><li class=""><span>}&nbsp;&nbsp;</span></li></ol></div><pre name="code" class="php" style="display: none;">session_start();
if(!empty($_SESSION)){
    header("Location: login_facebook.php");
}
</pre><p>And if you want to display the username, access it as an array.</p><div class="dp-highlighter"><div class="bar"><div class="tools"><a href="http://net.tutsplus.com/tutorials/php/how-to-authenticate-your-users-with-facebook-connect/#" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;">view plain</a><a href="http://net.tutsplus.com/tutorials/php/how-to-authenticate-your-users-with-facebook-connect/#" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;">copy to clipboard</a><a href="http://net.tutsplus.com/tutorials/php/how-to-authenticate-your-users-with-facebook-connect/#" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;">print</a><a href="http://net.tutsplus.com/tutorials/php/how-to-authenticate-your-users-with-facebook-connect/#" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;">?</a></div></div><ol start="1" class="dp-c"><li class="alt"><span><span class="func">echo</span><span>&nbsp;</span><span class="string">'Welcome&nbsp;'</span><span>&nbsp;.&nbsp;</span><span class="vars">$_SESSION</span><span>[</span><span class="string">'username'</span><span>];&nbsp;&nbsp;</span></span></li><li class=""><span>#&nbsp;<span class="keyword">or</span><span>..&nbsp;&nbsp;</span></span></li><li class="alt"><span><span class="func">echo</span><span>&nbsp;</span><span class="string">'Welcome&nbsp;'</span><span>&nbsp;.&nbsp;!</span><span class="keyword">empty</span><span>(</span><span class="vars">$_SESSION</span><span>)&nbsp;?&nbsp;</span><span class="vars">$_SESSION</span><span>[</span><span class="string">'username'</span><span>]&nbsp;:&nbsp;</span><span class="string">'guest'</span><span>;&nbsp;&nbsp;</span></span></li></ol></div><pre name="code" class="php" style="display: none;">echo 'Welcome ' . $_SESSION['username'];
# or..
echo 'Welcome ' . !empty($_SESSION) ? $_SESSION['username'] : 'guest';
</pre><hr><h2>Step 4. Additional Methods</h2><p>Facebook has a ton of connect features, but here are four that I’ve found to be the most useful.</p><h3>Legacy Methods</h3><p>I might be missing something, but the FQL seems more flexible and easy than the Graph API. Fortunately, Facebook still lets developers use it, altough with the new library, it has changed a bit.</p><p>If you want the user id, first name, last name, squared thumbnail for the user picture, the biggest user picture available, and his or her gender, you can use the <code>users.getInfo</code> method.</p><div class="dp-highlighter"><div class="bar"><div class="tools"><a href="http://net.tutsplus.com/tutorials/php/how-to-authenticate-your-users-with-facebook-connect/#" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;">view plain</a><a href="http://net.tutsplus.com/tutorials/php/how-to-authenticate-your-users-with-facebook-connect/#" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;">copy to clipboard</a><a href="http://net.tutsplus.com/tutorials/php/how-to-authenticate-your-users-with-facebook-connect/#" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;">print</a><a href="http://net.tutsplus.com/tutorials/php/how-to-authenticate-your-users-with-facebook-connect/#" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;">?</a></div></div><ol start="1" class="dp-c"><li class="alt"><span><span class="vars">$uid</span><span>&nbsp;=&nbsp;</span><span class="vars">$facebook</span><span>-&gt;getUser();&nbsp;&nbsp;</span></span></li><li class=""><span><span class="vars">$api_call</span><span>&nbsp;=&nbsp;</span><span class="keyword">array</span><span>(&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string">'method'</span><span>&nbsp;=&gt;&nbsp;</span><span class="string">'users.getinfo'</span><span>,&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string">'uids'</span><span>&nbsp;=&gt;&nbsp;</span><span class="vars">$uid</span><span>,&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string">'fields'</span><span>&nbsp;=&gt;&nbsp;</span><span class="string">'uid,&nbsp;first_name,&nbsp;last_name,&nbsp;pic_square,&nbsp;pic_big,&nbsp;sex'</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>);&nbsp;&nbsp;</span></li><li class="alt"><span><span class="vars">$users_getinfo</span><span>&nbsp;=&nbsp;</span><span class="vars">$facebook</span><span>-&gt;api(</span><span class="vars">$api_call</span><span>);&nbsp;&nbsp;</span></span></li></ol></div><pre name="code" class="php" style="display: none;">    $uid = $facebook-&gt;getUser();
    $api_call = array(
        'method' =&gt; 'users.getinfo',
        'uids' =&gt; $uid,
        'fields' =&gt; 'uid, first_name, last_name, pic_square, pic_big, sex'
    );
    $users_getinfo = $facebook-&gt;api($api_call);
</pre><p>You can check <a href="http://wiki.developers.facebook.com/index.php/Users.getInfo#Response" onclick="javascript:_gaq.push([&#39;_trackEvent&#39;,&#39;outbound-article&#39;,&#39;wiki.developers.facebook.com&#39;]);">the full list of fields available for Users.getInfo</a>.</p><p>It is possible to achieve the same result, using FQL.</p><div class="dp-highlighter"><div class="bar"><div class="tools"><a href="http://net.tutsplus.com/tutorials/php/how-to-authenticate-your-users-with-facebook-connect/#" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;">view plain</a><a href="http://net.tutsplus.com/tutorials/php/how-to-authenticate-your-users-with-facebook-connect/#" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;">copy to clipboard</a><a href="http://net.tutsplus.com/tutorials/php/how-to-authenticate-your-users-with-facebook-connect/#" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;">print</a><a href="http://net.tutsplus.com/tutorials/php/how-to-authenticate-your-users-with-facebook-connect/#" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;">?</a></div></div><ol start="1" class="dp-c"><li class="alt"><span><span class="vars">$uid</span><span>&nbsp;=&nbsp;</span><span class="vars">$facebook</span><span>-&gt;getUser();&nbsp;&nbsp;</span></span></li><li class=""><span><span class="vars">$fql_query</span><span>&nbsp;&nbsp;=&nbsp;&nbsp;&nbsp;</span><span class="keyword">array</span><span>(&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string">'method'</span><span>&nbsp;=&gt;&nbsp;</span><span class="string">'fql.query'</span><span>,&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string">'query'</span><span>&nbsp;=&gt;&nbsp;</span><span class="string">'SELECT&nbsp;uid,&nbsp;first_name,&nbsp;last_name,&nbsp;pic_square,&nbsp;pic_big,&nbsp;sex&nbsp;FROM&nbsp;user&nbsp;WHERE&nbsp;uid&nbsp;=&nbsp;'</span><span>&nbsp;.&nbsp;</span><span class="vars">$uid</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>);&nbsp;&nbsp;</span></li><li class=""><span><span class="vars">$fql_info</span><span>&nbsp;=&nbsp;</span><span class="vars">$facebook</span><span>-&gt;api(</span><span class="vars">$fql_query</span><span>);&nbsp;&nbsp;</span></span></li></ol></div><pre name="code" class="php" style="display: none;">    $uid = $facebook-&gt;getUser();
    $fql_query  =   array(
        'method' =&gt; 'fql.query',
        'query' =&gt; 'SELECT uid, first_name, last_name, pic_square, pic_big, sex FROM user WHERE uid = ' . $uid
    );
    $fql_info = $facebook-&gt;api($fql_query);
</pre><p>Here’s the <a href="http://developers.facebook.com/docs/reference/fql/" onclick="javascript:_gaq.push([&#39;_trackEvent&#39;,&#39;outbound-article&#39;,&#39;developers.facebook.com&#39;]);">list of tables</a> which can be accessed with FQL, as well as <a href="http://developers.facebook.com/docs/reference/fql/user" onclick="javascript:_gaq.push([&#39;_trackEvent&#39;,&#39;outbound-article&#39;,&#39;developers.facebook.com&#39;]);">the fields available for the table users</a>.</p><h3>Extended Permissions</h3><p>Facebook provides applications with some interaction with the user’s data – just as long as it’s authorized. With the old API, the authorization for additional permissions was exclusively available for the Javascript SDK (altough I’m not quite sure). With the new API, we can easily redirect the user to an authorization dialog in Facebook, and return to our site after the access is either granted or denied.</p><p>In the following example, we will be redirecting a user to authorize posts status updates, photos, videos and notes, the user’s real email address, birthday and access to photos and videos.</p><div class="dp-highlighter"><div class="bar"><div class="tools"><a href="http://net.tutsplus.com/tutorials/php/how-to-authenticate-your-users-with-facebook-connect/#" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;">view plain</a><a href="http://net.tutsplus.com/tutorials/php/how-to-authenticate-your-users-with-facebook-connect/#" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;">copy to clipboard</a><a href="http://net.tutsplus.com/tutorials/php/how-to-authenticate-your-users-with-facebook-connect/#" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;">print</a><a href="http://net.tutsplus.com/tutorials/php/how-to-authenticate-your-users-with-facebook-connect/#" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;">?</a></div></div><ol start="1" class="dp-c"><li class="alt"><span><span class="vars">$uid</span><span>&nbsp;=&nbsp;</span><span class="vars">$facebook</span><span>-&gt;getUser();&nbsp;&nbsp;</span></span></li><li class=""><span>#&nbsp;req_perms&nbsp;is&nbsp;a&nbsp;comma&nbsp;separated&nbsp;list&nbsp;of&nbsp;the&nbsp;permissions&nbsp;needed&nbsp;&nbsp;</span></li><li class="alt"><span><span class="vars">$url</span><span>&nbsp;=&nbsp;</span><span class="vars">$facebook</span><span>-&gt;getLoginUrl(</span><span class="keyword">array</span><span>(&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string">'req_perms'</span><span>&nbsp;=&gt;&nbsp;</span><span class="string">'email,user_birthday,status_update,publish_stream,user_photos,user_videos'</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>));&nbsp;&nbsp;</span></li><li class=""><span>header(<span class="string">"Location:&nbsp;{$url}&nbsp;"</span><span>);&nbsp;&nbsp;</span></span></li></ol></div><pre name="code" class="php" style="display: none;">$uid = $facebook-&gt;getUser();
# req_perms is a comma separated list of the permissions needed
$url = $facebook-&gt;getLoginUrl(array(
    'req_perms' =&gt; 'email,user_birthday,status_update,publish_stream,user_photos,user_videos'
));
header("Location: {$url} ");
</pre><p>Here’s <a href="http://developers.facebook.com/docs/authentication/permissions" onclick="javascript:_gaq.push([&#39;_trackEvent&#39;,&#39;outbound-article&#39;,&#39;developers.facebook.com&#39;]);">a full list of permissions</a>. Note that you can specify both the url to direct to if the user accepts and the url to be redirected to if the user denies. The key for these array elements are <code>next</code> and <code>cancel_url</code>, respectively. Here’s a quick example:</p><div class="dp-highlighter"><div class="bar"><div class="tools"><a href="http://net.tutsplus.com/tutorials/php/how-to-authenticate-your-users-with-facebook-connect/#" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;">view plain</a><a href="http://net.tutsplus.com/tutorials/php/how-to-authenticate-your-users-with-facebook-connect/#" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;">copy to clipboard</a><a href="http://net.tutsplus.com/tutorials/php/how-to-authenticate-your-users-with-facebook-connect/#" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;">print</a><a href="http://net.tutsplus.com/tutorials/php/how-to-authenticate-your-users-with-facebook-connect/#" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;">?</a></div></div><ol start="1" class="dp-c"><li class="alt"><span><span class="vars">$url</span><span>&nbsp;=&nbsp;</span><span class="vars">$facebook</span><span>-&gt;getLoginUrl(</span><span class="keyword">array</span><span>(&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string">'req_perms'</span><span>&nbsp;=&gt;&nbsp;</span><span class="string">'email'</span><span>,&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string">'next'</span><span>&nbsp;=&gt;&nbsp;</span><span class="string">'http://localhost.com/thanks.php'</span><span>,&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string">'cancel_url'</span><span>&nbsp;=&gt;&nbsp;</span><span class="string">'http://localhost.com/sorry.php'</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>));&nbsp;&nbsp;</span></li></ol></div><pre name="code" class="php" style="display: none;">$url = $facebook-&gt;getLoginUrl(array(
    'req_perms' =&gt; 'email',
    'next' =&gt; 'http://localhost.com/thanks.php',
    'cancel_url' =&gt; 'http://localhost.com/sorry.php'
));
</pre><p>If not specified, the default is the requesting script’s location.</p><div class="tutorial_image"> <img src="./How to Authenticate Users With Facebook Connect   Nettuts+_files/fb_additional_permissions.png" width="600" height="478" original="http://d2o0t5hpnwv4c1.cloudfront.net/708_facebook/fb_additional_permissions.png" style="display: inline-block;"></div><h3>Checking for Extended Permissions</h3><p>Since the user can easily revoke permissions, the application should always check if a given permission is granted before using it, specially if it’s about publishing something. We will have to use the legacy API, as <a href="http://forum.developers.facebook.com/viewtopic.php?id=58565" onclick="javascript:_gaq.push([&#39;_trackEvent&#39;,&#39;outbound-article&#39;,&#39;forum.developers.facebook.com&#39;]);">it seems it’s not fully implemented with the new one yet</a>.</p><div class="dp-highlighter"><div class="bar"><div class="tools"><a href="http://net.tutsplus.com/tutorials/php/how-to-authenticate-your-users-with-facebook-connect/#" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;">view plain</a><a href="http://net.tutsplus.com/tutorials/php/how-to-authenticate-your-users-with-facebook-connect/#" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;">copy to clipboard</a><a href="http://net.tutsplus.com/tutorials/php/how-to-authenticate-your-users-with-facebook-connect/#" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;">print</a><a href="http://net.tutsplus.com/tutorials/php/how-to-authenticate-your-users-with-facebook-connect/#" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;">?</a></div></div><ol start="1" class="dp-c"><li class="alt"><span><span class="vars">$uid</span><span>&nbsp;=&nbsp;</span><span class="vars">$facebook</span><span>-&gt;getUser();&nbsp;&nbsp;</span></span></li><li class=""><span>#&nbsp;users.hasAppPermission&nbsp;&nbsp;</span></li><li class="alt"><span><span class="vars">$api_call</span><span>&nbsp;=&nbsp;</span><span class="keyword">array</span><span>(&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string">'method'</span><span>&nbsp;=&gt;&nbsp;</span><span class="string">'users.hasAppPermission'</span><span>,&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string">'uid'</span><span>&nbsp;=&gt;&nbsp;</span><span class="vars">$uid</span><span>,&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string">'ext_perm'</span><span>&nbsp;=&gt;&nbsp;</span><span class="string">'publish_stream'</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>);&nbsp;&nbsp;</span></li><li class=""><span><span class="vars">$users_hasapppermission</span><span>&nbsp;=&nbsp;</span><span class="vars">$facebook</span><span>-&gt;api(</span><span class="vars">$api_call</span><span>);&nbsp;&nbsp;</span></span></li><li class="alt"><span>print_r(<span class="vars">$users_hasapppermission</span><span>);&nbsp;&nbsp;</span></span></li></ol></div><pre name="code" class="php" style="display: none;">    $uid = $facebook-&gt;getUser();
    # users.hasAppPermission
    $api_call = array(
        'method' =&gt; 'users.hasAppPermission',
        'uid' =&gt; $uid,
        'ext_perm' =&gt; 'publish_stream'
    );
    $users_hasapppermission = $facebook-&gt;api($api_call);
    print_r($users_hasapppermission);
</pre><p>The <code>ext_perm</code> will only support <a href="http://developers.facebook.com/docs/reference/rest/users.hasAppPermission" onclick="javascript:_gaq.push([&#39;_trackEvent&#39;,&#39;outbound-article&#39;,&#39;developers.facebook.com&#39;]);">the old list of available permissions</a>.</p><h3>Publishing to the Wall</h3><p>Let’s post something to the wall after verifying the user has the <code>publish_stream</code> permission.</p><div class="dp-highlighter"><div class="bar"><div class="tools"><a href="http://net.tutsplus.com/tutorials/php/how-to-authenticate-your-users-with-facebook-connect/#" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;">view plain</a><a href="http://net.tutsplus.com/tutorials/php/how-to-authenticate-your-users-with-facebook-connect/#" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;">copy to clipboard</a><a href="http://net.tutsplus.com/tutorials/php/how-to-authenticate-your-users-with-facebook-connect/#" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;">print</a><a href="http://net.tutsplus.com/tutorials/php/how-to-authenticate-your-users-with-facebook-connect/#" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;">?</a></div></div><ol start="1" class="dp-c"><li class="alt"><span><span>#&nbsp;let</span><span class="string">'s&nbsp;check&nbsp;if&nbsp;the&nbsp;user&nbsp;has&nbsp;granted&nbsp;access&nbsp;to&nbsp;posting&nbsp;in&nbsp;the&nbsp;wall</span>&nbsp;</span></li><li class=""><span><span class="string">$api_call&nbsp;=&nbsp;array(</span>&nbsp;</span></li><li class="alt"><span><span class="string">&nbsp;&nbsp;&nbsp;&nbsp;'</span><span>method</span><span class="string">'&nbsp;=&gt;&nbsp;'</span><span>users.hasAppPermission</span><span class="string">',</span>&nbsp;</span></li><li class=""><span><span class="string">&nbsp;&nbsp;&nbsp;&nbsp;'</span><span>uid</span><span class="string">'&nbsp;=&gt;&nbsp;$uid,</span>&nbsp;</span></li><li class="alt"><span><span class="string">&nbsp;&nbsp;&nbsp;&nbsp;'</span><span>ext_perm</span><span class="string">'&nbsp;=&gt;&nbsp;'</span><span>publish_stream</span><span class="string">'</span>&nbsp;</span></li><li class=""><span><span class="string">);</span>&nbsp;</span></li><li class="alt"><span><span class="string">$can_post&nbsp;=&nbsp;$facebook-&gt;api($api_call);</span>&nbsp;</span></li><li class=""><span><span class="string">if($can_post){</span>&nbsp;</span></li><li class="alt"><span><span class="string">&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;post&nbsp;it!</span>&nbsp;</span></li><li class=""><span><span class="string">&nbsp;&nbsp;&nbsp;&nbsp;$facebook-&gt;api('</span><span>/</span><span class="string">'.$uid.'</span><span>/feed</span><span class="string">',&nbsp;'</span><span>post</span><span class="string">',&nbsp;array('</span><span>message</span><span class="string">'&nbsp;=&gt;&nbsp;'</span><span>Saying&nbsp;hello&nbsp;from&nbsp;my&nbsp;Facebook&nbsp;app!</span><span class="string">'));</span>&nbsp;</span></li><li class="alt"><span><span class="string">&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;'</span><span>Posted!</span><span class="string">';</span>&nbsp;</span></li><li class=""><span><span class="string">}&nbsp;else&nbsp;{</span>&nbsp;</span></li><li class="alt"><span><span class="string">&nbsp;&nbsp;&nbsp;&nbsp;die('</span><span>Permissions&nbsp;required!');&nbsp;&nbsp;</span></span></li><li class=""><span>}&nbsp;&nbsp;</span></li></ol></div><pre name="code" class="php" style="display: none;">    # let's check if the user has granted access to posting in the wall
    $api_call = array(
        'method' =&gt; 'users.hasAppPermission',
        'uid' =&gt; $uid,
        'ext_perm' =&gt; 'publish_stream'
    );
    $can_post = $facebook-&gt;api($api_call);
    if($can_post){
        # post it!
        $facebook-&gt;api('/'.$uid.'/feed', 'post', array('message' =&gt; 'Saying hello from my Facebook app!'));
        echo 'Posted!';
    } else {
        die('Permissions required!');
    }
</pre><p>Essentially, we are making an API call to <code>/&lt;user_id&gt;/feed</code>, using the POST method (second argument) and an array as a third argument for the data to be sent. In this case, this third argument supports <code>message</code>, <code>link</code>, <code>picture</code>, <code>caption</code>, <code>name</code> and <code>description</code>. Here’s the code:</p><div class="dp-highlighter"><div class="bar"><div class="tools"><a href="http://net.tutsplus.com/tutorials/php/how-to-authenticate-your-users-with-facebook-connect/#" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;">view plain</a><a href="http://net.tutsplus.com/tutorials/php/how-to-authenticate-your-users-with-facebook-connect/#" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;">copy to clipboard</a><a href="http://net.tutsplus.com/tutorials/php/how-to-authenticate-your-users-with-facebook-connect/#" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;">print</a><a href="http://net.tutsplus.com/tutorials/php/how-to-authenticate-your-users-with-facebook-connect/#" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;">?</a></div></div><ol start="1" class="dp-c"><li class="alt"><span><span class="vars">$facebook</span><span>-&gt;api(</span><span class="string">'/'</span><span>.</span><span class="vars">$uid</span><span>.</span><span class="string">'/feed'</span><span>,&nbsp;</span><span class="string">'post'</span><span>,&nbsp;</span><span class="keyword">array</span><span>(&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string">'message'</span><span>&nbsp;=&gt;&nbsp;</span><span class="string">'The&nbsp;message'</span><span>,&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string">'name'</span><span>&nbsp;=&gt;&nbsp;</span><span class="string">'The&nbsp;name'</span><span>,&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string">'description'</span><span>&nbsp;=&gt;&nbsp;</span><span class="string">'The&nbsp;description'</span><span>,&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string">'caption'</span><span>&nbsp;=&gt;&nbsp;</span><span class="string">'The&nbsp;caption'</span><span>,&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string">'picture'</span><span>&nbsp;=&gt;&nbsp;</span><span class="string">'http://i.imgur.com/yx3q2.png'</span><span>,&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string">'link'</span><span>&nbsp;=&gt;&nbsp;</span><span class="string">'http://net.tutsplus.com/'</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>));&nbsp;&nbsp;</span></li></ol></div><pre name="code" class="php" style="display: none;">$facebook-&gt;api('/'.$uid.'/feed', 'post', array(
    'message' =&gt; 'The message',
    'name' =&gt; 'The name',
    'description' =&gt; 'The description',
    'caption' =&gt; 'The caption',
    'picture' =&gt; 'http://i.imgur.com/yx3q2.png',
    'link' =&gt; 'http://net.tutsplus.com/'
));
</pre><p>Here’s how it is posted.</p><div class="tutorial_image"> <img src="./How to Authenticate Users With Facebook Connect   Nettuts+_files/fb_wall.png" width="600" height="140" original="http://d2o0t5hpnwv4c1.cloudfront.net/708_facebook/fb_wall.png" style="display: inline-block;"></div><p></p><h3>Some Additional Information you Should Know:</h3><p>The user can easily revoke permissions with two clicks in his or her wall. You should heavily test what might happen if a user revoked one or more permissions that are vital for the proper functioning of your website, or even if the application is fully removed. This is important.</p><ul><li>In <a href="http://www.facebook.com/editapps.php" onclick="javascript:_gaq.push([&#39;_trackEvent&#39;,&#39;outbound-article&#39;,&#39;www.facebook.com&#39;]);">Application Settings</a> you can remove the application entirely by clicking the x at the right side.</li><li>You can remove permissions individually in the <a href="http://www.facebook.com/editapps.php?v=extended" onclick="javascript:_gaq.push([&#39;_trackEvent&#39;,&#39;outbound-article&#39;,&#39;www.facebook.com&#39;]);">Granted Additional Permissions</a> section.</li></ul><hr><h2>5. Conclusion</h2><p>While Facebook’s authentication capabilities are indeed useful, since so many people are on Facebook these days, using it as the only method of authentication in a site is not recommended. What about those who don’t have Facebook accounts? Are they not allowed to access your application? Thanks for reading!</p><div style="clear:both;padding-bottom:20px;"><fb:like layout="standard" width="450" height="30" fb-xfbml-state="rendered" class="fb_edge_widget_with_comment fb_iframe_widget"><span style="height: 29px; width: 450px;"><iframe id="f21f89914" name="f1948ff504" scrolling="no" style="border: none; overflow: hidden; height: 29px; width: 450px;" title="Like this content on Facebook." class="fb_ltr" src="./How to Authenticate Users With Facebook Connect   Nettuts+_files/like.htm"></iframe></span></fb:like></div><p style="text-align: center;"></p><div id="bsap_1260864" class="bsap_1260864 bsap"><a href="http://stats.buysellads.com/click.go?z=1260864&b=2765792&g=&s=&sw=1366&sh=768&br=chrome,24,win&r=0.6131601501256227&link=http://newrelic.com/?utm_source=BSAD&utm_medium=banner_ad&utm_content=devbest300x250&utm_campaign=RPM&utm_term=devbest&mpc=BA-BSAD-RPM-EN-100-buysellads-devbest" onmouseover="window.status = &#39;http://newrelic.com/?utm_source=BSAD&amp;utm_medium=banner_ad&amp;utm_content=devbest300x250&amp;utm_campaign=RPM&amp;utm_term=devbest&amp;mpc=BA-BSAD-RPM-EN-100-buysellads-devbest&#39;; return true;" onmouseout="window.status=&#39;&#39;; return true;" class="ad1 odd" title="Developer&#39;s Best Friend" id="bsa_2765792" target="_blank"><img src="./How to Authenticate Users With Facebook Connect   Nettuts+_files/131547-1349288042.jpg" width="300" height="250" alt="Developer&#39;s Best Friend"></a></div><p></p></div><div id="marketplace-author"><div><img alt="" src="./How to Authenticate Users With Facebook Connect   Nettuts+_files/03936d26fcf398c3336d6b1d53fc7b46" class="avatar avatar-40 photo" height="40" width="40"> <span>Rafael Soto is <a href="http://codecanyon.net/user/faelsoto?ref=NetPremium" rel="external nofollow" class="m-username" target="_blank">faelsoto</a> on </span><a href="http://codecanyon.net/?ref=NetPremium" class="author-icon site-codecanyon" rel="external nofollow" target="_blank">Codecanyon</a></div><ul><li><a href="http://codecanyon.net/item/popular-posts-bar-widget/115225?ref=NetPremium" rel="external nofollow" target="_blank"><img src="./How to Authenticate Users With Facebook Connect   Nettuts+_files/thumbnail.png" alt="" title="Popular Posts Bar Widget only $8.00" width="80" height="80"></a></li><li><a href="http://codecanyon.net/item/colorful-calendar/161615?ref=NetPremium" rel="external nofollow" target="_blank"><img src="./How to Authenticate Users With Facebook Connect   Nettuts+_files/thumbnail(1).png" alt="" title="Colorful Calendar only $8.00" width="80" height="80"></a></li><li><a href="http://codecanyon.net/item/caps-block-wordpress-plugin/115421?ref=NetPremium" rel="external nofollow" target="_blank"><img src="./How to Authenticate Users With Facebook Connect   Nettuts+_files/381017.jpg" alt="" title="CAPS Block WordPress Plugin only $6.00" width="80" height="80"></a></li><li><img src="./How to Authenticate Users With Facebook Connect   Nettuts+_files/no-item-thumb.png" alt="" width="80" height="80"></li><li><img src="./How to Authenticate Users With Facebook Connect   Nettuts+_files/no-item-thumb.png" alt="" width="80" height="80"></li><li><img src="./How to Authenticate Users With Facebook Connect   Nettuts+_files/no-item-thumb.png" alt="" width="80" height="80"></li><li class="last-item"><img src="./How to Authenticate Users With Facebook Connect   Nettuts+_files/no-item-thumb.png" alt="" width="80" height="80"></li></ul></div><div id="tag-list"><span>Tags:</span> <a href="http://net.tutsplus.com/tag/authentication/">authentication</a><a href="http://net.tutsplus.com/tag/facebook/">facebook</a></div><div class="post_footer" style="padding-bottom: 170px;"><div class="enjoyed_post"> <span class="thumb_icon">&nbsp;</span><h5>Enjoyed this Post?</h5><p>Subscribe to our <a href="http://feeds.feedburner.com/nettuts">RSS Feed</a>, <a href="http://twitter.com/nettuts">Follow us on Twitter</a> or simply recommend us to friends and colleagues!</p><div class="article_social_media"><div class="tweetmeme_btn"> <iframe allowtransparency="true" frameborder="0" scrolling="no" src="./How to Authenticate Users With Facebook Connect   Nettuts+_files/tweet_button.1359159993(1).htm" class="twitter-share-button twitter-count-none" style="width: 59px; height: 20px;" title="Twitter Tweet Button" data-twttr-rendered="true"></iframe><script type="text/javascript" src="./How to Authenticate Users With Facebook Connect   Nettuts+_files/widgets.js"></script> </div><div class="facebook_send_btn left"> <div style="height: 20px; width: 32px; display: inline-block; text-indent: 0px; margin: 0px; padding: 0px; background-color: transparent; border-style: none; float: none; line-height: normal; font-size: 1px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;" id="___plusone_1"><iframe frameborder="0" hspace="0" marginheight="0" marginwidth="0" scrolling="no" style="position: static; top: 0px; width: 32px; margin: 0px; border-style: none; left: 0px; visibility: visible; height: 20px;" tabindex="0" vspace="0" width="100%" id="I1_1360224553604" name="I1_1360224553604" src="./How to Authenticate Users With Facebook Connect   Nettuts+_files/fastbutton(1).htm" allowtransparency="true" data-gapiattached="true" title="+1"></iframe></div></div><div class="facebook_btn"> <fb:like layout="button_count" width="100" height="21" fb-xfbml-state="rendered" class="fb_edge_widget_with_comment fb_iframe_widget"><span style="height: 20px; width: 74px;"><iframe id="f38ac7d004" name="f302b0ca2c" scrolling="no" style="border: none; overflow: hidden; height: 20px; width: 74px;" title="Like this content on Facebook." class="fb_ltr" src="./How to Authenticate Users With Facebook Connect   Nettuts+_files/like(2).htm"></iframe></span></fb:like></div></div></div><div class="the_author"> <img alt="" src="./How to Authenticate Users With Facebook Connect   Nettuts+_files/03936d26fcf398c3336d6b1d53fc7b46" class="avatar avatar-40 photo" height="40" width="40"><h5>By <a href="http://net.tutsplus.com/author/rafael-soto/" title="Posts by Rafael Soto" rel="author">Rafael Soto</a></h5><p class="the_author_p">Rollover to read this author's bio or click through to see a full list of posts by this author.</p><div class="autor_div"> Rafael is a mexican marketer with a very weird hobby: he codes sites. He is a complete geek, he wants to make change in his community and thinks the web is a very good way to make it happen. <span class="arrow">&nbsp;</span></div></div> <br class="clear"><div class="plus_membership"><div class="plus_membership_text"> <a href="" class="plus_icon">Plus Premium</a><div id="logged-in-plus-footer" style="display: none;"><div class="plus_content wide"><h3>Hello!</h3><p>You can grab source files and bonus tutorials from the <a href="http://tutsplus.com/">members area</a>.</p></div><div class="plus_form"></div></div><div id="logged-out-plus-footer" style=""><div class="plus_content"><h3>Premium Members</h3><p>Source Files, Bonus Tutorials &amp; More for all relevant Tuts+ sites in one subscription. <a href="http://tutsplus.com/amember/signup.php">Join Now</a></p></div><div class="plus_form"><form name="login" method="post" action="http://tutsplus.com/amember/login.php?amember_redirect_url=http://net.tutsplus.com/tutorials/php/how-to-authenticate-your-users-with-facebook-connect/" id="signIn"><fieldset> <input type="text" name="amember_login" id="username" class="input"> <input type="password" name="amember_pass" id="password" class="input"> <input type="submit" id="submit_plus" class="submit_plus" value="Sign In"></fieldset></form></div></div></div><div class="left_corner">&nbsp;</div><div class="right_corner">&nbsp;</div></div> <script type="text/javascript">if (plus_member_logged_in()) {
                  $('#logged-in-plus-footer').show()
                } else {
                  $('#logged-out-plus-footer').show()
                }</script> </div><div class="post extra_posts single"></div><div class="discus-note"><strong>Note:</strong> Want to add some source code? Type &lt;pre&gt;&lt;code&gt; before it and &lt;/code&gt;&lt;/pre&gt; after it. <a href="http://help.disqus.com/customer/portal/articles/665057" target="_blank">Find out more</a></div><div class="comments"><div id="disqus_thread"><iframe id="dsq1" data-disqus-uid="1" allowtransparency="true" frameborder="0" role="application" style="width: 100%; border: none; overflow: hidden; height: 8740px;" width="100%" src="./How to Authenticate Users With Facebook Connect   Nettuts+_files/saved_resource.htm" scrolling="no" horizontalscrolling="no" verticalscrolling="no"></iframe><iframe id="dsq3" data-disqus-uid="3" allowtransparency="true" frameborder="0" role="application" style="width: 100%; border: none; overflow: hidden; display: none;" width="100%" src="./How to Authenticate Users With Facebook Connect   Nettuts+_files/client.htm"></iframe><iframe id="dsq-indicator-north" data-disqus-uid="-indicator-north" allowtransparency="true" frameborder="0" role="application" style="width: 752px; border: none; overflow: hidden; top: 0px; min-width: 752px; max-width: 752px; position: fixed; max-height: 29px; min-height: 29px; height: 29px; display: none;" scrolling="no"></iframe><iframe id="dsq-indicator-south" data-disqus-uid="-indicator-south" allowtransparency="true" frameborder="0" role="application" style="width: 752px; border: none; overflow: hidden; bottom: 0px; min-width: 752px; max-width: 752px; position: fixed; max-height: 29px; min-height: 29px; height: 29px; display: none;" scrolling="no"></iframe></div> <script type="text/javascript">/*<![CDATA[*//*  */
    var disqus_url = 'http://net.tutsplus.com/tutorials/php/how-to-authenticate-your-users-with-facebook-connect/';
    var disqus_identifier = '12302 http://net.tutsplus.com/?p=12302';
    var disqus_container_id = 'disqus_thread';
    var disqus_domain = 'disqus.com';
    var disqus_shortname = 'nettuts';
    var disqus_title = "How to Authenticate Users With Facebook Connect";
        var disqus_config = function () {
        var config = this; // Access to the config object
        /*
           All currently supported events:
            * preData — fires just before we request for initial data
            * preInit - fires after we get initial data but before we load any dependencies
            * onInit  - fires when all dependencies are resolved but before dtpl template is rendered
            * afterRender - fires when template is rendered but before we show it
            * onReady - everything is done
         */
        config.callbacks.preData.push(function() {
            // clear out the container (its filled for SEO/legacy purposes)
            document.getElementById(disqus_container_id).innerHTML = '';
        });
                config.callbacks.onReady.push(function() {
            // sync comments in the background so we don't block the page
            var script = document.createElement('script');
            script.async = true;
            script.src = '?cf_action=sync_comments&post_id=12302';
            var firstScript = document.getElementsByTagName( "script" )[0];
            firstScript.parentNode.insertBefore(script, firstScript);
        });
                    };
    var facebookXdReceiverPath = 'http://net.tutsplus.com/wp-content/plugins/disqus-comment-system/xd_receiver.htm';
/*  *//*]]>*/</script> <script type="text/javascript">/*  */
    var DsqLocal = {
        'trackbacks': [
        ],
        'trackback_url': "http:\/\/net.tutsplus.com\/tutorials\/php\/how-to-authenticate-your-users-with-facebook-connect\/trackback\/"    };
/*  */</script> <script type="text/javascript">/*<![CDATA[*//*  */
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript';
    dsq.async = true;
        dsq.src = 'http' + '://' + disqus_shortname + '.' + 'disqus.com' + '/embed.js?pname=wordpress&pver=2.73';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
/*  *//*]]>*/</script> </div></div></div></div><div id="sidebar"><div id="social-stats"><ul><li class="ss-twitter"> <a href="http://twitter.com/nettuts" rel="nofollow external" target="_blank"> <span>Twitter</span> <large>62,823</large> <small>Twitter Followers</small> </a></li><li class="ss-facebook"> <a href="http://facebook.com/nettutsplus" rel="nofollow external" target="_blank"> <span>Facebook</span> <large>54,026</large> <small>Facebook Fans</small> </a></li><li class="ss-google-plus"> <a href="https://plus.google.com/100395074731712398322" rel="nofollow external" target="_blank"> <span>Google+</span> <large>13,539</large> <small>Google+ Followers</small> </a></li></ul></div><div id="site-updates" class="ui-tabs ui-widget ui-widget-content ui-corner-all"><ul class="navfor-sections ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"><li class="mail-chimp-nav ui-state-default ui-corner-top ui-tabs-selected ui-state-active"><a href="http://net.tutsplus.com/tutorials/php/how-to-authenticate-your-users-with-facebook-connect/#mail-chimp-section"><span>&nbsp;</span>Get Email Updates</a></li><li class="rss-nav ui-state-default ui-corner-top"><a href="http://net.tutsplus.com/tutorials/php/how-to-authenticate-your-users-with-facebook-connect/#rss-section"><span>&nbsp;</span>Subscribe via RSS</a></li></ul><div id="mail-chimp-section" class="section-fornav ui-tabs-panel ui-widget-content ui-corner-bottom"><div id="mail-chimp-response"></div><form id="mail-chimp-form" action="" method="get"> <input type="text" name="mail-chimp-email" class="mail-chimp-email" value="" placeholder="me@email.com"> <input type="submit" name="mail-chimp-subscribe" value="Subscribe" id="mail-chimp-subscribe"></form></div><div id="rss-section" class="section-fornav ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"><ul><li><a href="javascript:void(0);">Select a subscription type...</a><ul><li><a href="http://feeds.feedburner.com/nettuts">Full Post RSS</a></li><li><a href="http://feedproxy.google.com/nettuts-summary">Summary RSS</a></li></ul></li></ul></div></div><div id="ad-block" style="display: block;"><div id="bsap_1616" class="bsap_1616 bsap"><a href="http://stats.buysellads.com/click.go?z=1616&b=505771&g=&s=&sw=1366&sh=768&br=chrome,24,win&r=0.8483339145313948&link=http://www.xhtmlchop.com/?utm_source=BSA&utm_medium=Banner&utm_term=Psd%2Bto%2BHtml&utm_campaign=Nettuts%2B" onmouseover="window.status = &#39;http://www.xhtmlchop.com/?utm_source=BSA&amp;utm_medium=Banner&amp;utm_term=Psd%2Bto%2BHtml&amp;utm_campaign=Nettuts%2B&#39;; return true;" onmouseout="window.status=&#39;&#39;; return true;" class="ad1 odd" title="PSD to Html" id="bsa_505771" target="_blank"><img src="./How to Authenticate Users With Facebook Connect   Nettuts+_files/31840-1279649837.gif" width="200" height="125" alt="PSD to Html"></a><a href="http://stats.buysellads.com/click.go?z=1616&b=2875306&g=&s=&sw=1366&sh=768&br=chrome,24,win&r=0.7869436647742987&link=http://www.freshbooks.com/?ref=7486" onmouseover="window.status = &#39;http://www.freshbooks.com/?ref=7486&#39;; return true;" onmouseout="window.status=&#39;&#39;; return true;" class="ad2 even" title="FreshBooks Cloud Accounting - Sign Up Today For Your Free Trial!" id="bsa_2875306" target="_blank"><img src="./How to Authenticate Users With Facebook Connect   Nettuts+_files/139149-1352336829.png" width="200" height="125" alt="FreshBooks Cloud Accounting - Sign Up Today For Your Free Trial!"></a><a href="http://stats.buysellads.com/click.go?z=1616&b=2320244&g=&s=&sw=1366&sh=768&br=chrome,24,win&r=0.05285783251747489&link=http://www.typekit.com/?utm_source=nettuts&utm_medium=display&utm_content=ntth120420&utm_campaign=thousands" onmouseover="window.status = &#39;http://www.typekit.com/?utm_source=nettuts&amp;utm_medium=display&amp;utm_content=ntth120420&amp;utm_campaign=thousands&#39;; return true;" onmouseout="window.status=&#39;&#39;; return true;" class="ad3 odd" title="Typekit: Thousands of the best web fonts." id="bsa_2320244" target="_blank"><img src="./How to Authenticate Users With Facebook Connect   Nettuts+_files/103123-1334962160.png" width="200" height="125" alt="Typekit: Thousands of the best web fonts."></a><a href="http://stats.buysellads.com/click.go?z=1616&b=2972501&g=&s=&sw=1366&sh=768&br=chrome,24,win&r=0.6218635586556047&link=http://www.codeguard.com?utm_source=net.tutsplus.com&utm_medium=display&utm_content=VC&utm_campaign=VC_nettuts" onmouseover="window.status = &#39;http://www.codeguard.com?utm_source=net.tutsplus.com&amp;utm_medium=display&amp;utm_content=VC&amp;utm_campaign=VC_nettuts&#39;; return true;" onmouseout="window.status=&#39;&#39;; return true;" class="ad4 even" title="Version Control in the cloud from CodeGuard" id="bsa_2972501" target="_blank"><img src="./How to Authenticate Users With Facebook Connect   Nettuts+_files/144313-1354292145.png" width="200" height="125" alt="Version Control in the cloud from CodeGuard"></a><a href="http://stats.buysellads.com/click.go?z=1616&b=1273278&g=&s=&sw=1366&sh=768&br=chrome,24,win&r=0.6117329734843224&link=http://pages.sencha.com/web-apps-come-of-age.html?ls=Advertisement&ss=Nettuts" onmouseover="window.status = &#39;http://pages.sencha.com/web-apps-come-of-age.html?ls=Advertisement&amp;ss=Nettuts&#39;; return true;" onmouseout="window.status=&#39;&#39;; return true;" class="ad5 odd" title="Free White Paper - Web Apps Come of Age" id="bsa_1273278" target="_blank"><img src="./How to Authenticate Users With Facebook Connect   Nettuts+_files/68365-1310429808.png" width="200" height="125" alt="Free White Paper - Web Apps Come of Age"></a><a href="http://stats.buysellads.com/click.go?z=1616&b=180337&g=&s=&sw=1366&sh=768&br=chrome,24,win&r=0.4533078575041145&link=https://www.psd2html.com/order-now.html?r" onmouseover="window.status = &#39;https://www.psd2html.com/order-now.html?r&#39;; return true;" onmouseout="window.status=&#39;&#39;; return true;" class="ad6 even" title="PSD2HTML.com" id="bsa_180337" target="_blank"><img src="./How to Authenticate Users With Facebook Connect   Nettuts+_files/146508-1355157567.png" width="200" height="125" alt="PSD2HTML.com"></a><a href="http://buysellads.com/buy/detail/197/zone/1616?utm_source=site_197&utm_medium=website&utm_campaign=adhere&utm_content=zone_1616" title="Advertise Here" class="adhere ad7 odd" target="_blank">Advertise Here</a></div> <a href="http://net.tutsplus.com/advertise/" class="end-ad-here">advertise here</a></div><div id="ad-tuts-premium" style="display: block;"> <a href="http://tutsplus.com/">Become a Tuts+ Premium member to support this site and get access to more than <span>750</span> extra tutorials.</a></div>  <script type="text/javascript">if ( ! plus_member_logged_in()) {
    $('#ad-block').show();
    $('#ad-deck-large').show();
    $('#temp-ads').show();
    $('#ad-tuts-premium').show();
  }</script> <div id="tutsjobs" class="jobs"><h3 class="jobs_header"> Full-time, Part-time and Contract Jobs</h3><div class="jobs_body"><ul class="jobs_list"><li id="tutsjobs_id_6574" class="fsjobs_job">             <a href="https://jobs.tutsplus.com/jobs/38-booking-com-ux-designer"><span class="title">UX Designer</span> <mark>at</mark> Booking.com</a>            </li><li id="tutsjobs_id_7560" class="fsjobs_job">             <a href="https://jobs.tutsplus.com/jobs/37-booking-com-web-designer"><span class="title">Web Designer</span> <mark>at</mark> Booking.com</a>            </li><li id="tutsjobs_id_184" class="fsjobs_job">             <a href="https://jobs.tutsplus.com/jobs/39-fiplab-ltd-mac-os-x-developer"><span class="title">Mac OS X Developer</span> <mark>at</mark> FIPLAB Ltd</a>            </li><li id="tutsjobs_id_5421" class="fsjobs_job">             <a href="https://jobs.tutsplus.com/jobs/40-fiplab-ltd-icon-ui-designer"><span class="title">Icon &amp; UI Designer</span> <mark>at</mark> FIPLAB Ltd</a>            </li><li id="tutsjobs_id_1648" class="fsjobs_job">             <a href="https://jobs.tutsplus.com/jobs/36-marketing-clique-kick-ass-senior-php-developer"><span class="title">Kick Ass Senior PHP Developer</span> <mark>at</mark> Marketing Clique</a>            </li></ul> <a class="more_jobs" href="http://jobs.tutsplus.com/" title="Tuts+ Job Board"> More on Tuts+ Jobs... </a></div></div><div id="fsjobs" class="jobs"><h3 class="jobs_header"> Freelance Jobs</h3><div class="jobs_body"><ul class="jobs_list"><li id="fsjobs_id_7409" class="fsjobs_job">             <a href="http://jobs.freelanceswitch.com/jobs/21808"><span class="title">Freelance Vector Artist To Turn Simple Sketch Into Vector</span> <mark>in</mark> Anywhere</a>            </li><li id="fsjobs_id_8028" class="fsjobs_job">             <a href="http://jobs.freelanceswitch.com/jobs/21807"><span class="title">Freelance Application Developer</span> <mark>in</mark> Chicago, IL - ONSITE</a>            </li><li id="fsjobs_id_3795" class="fsjobs_job">             <a href="http://jobs.freelanceswitch.com/jobs/21804"><span class="title">Seasonal Typesetter</span> <mark>in</mark> Plymouth, MI</a>            </li><li id="fsjobs_id_6260" class="fsjobs_job">             <a href="http://jobs.freelanceswitch.com/jobs/21802"><span class="title">Co-founding &amp; leading role for a new customer service product startup</span> <mark>in</mark> Anywhere</a>            </li><li id="fsjobs_id_1452" class="fsjobs_job">             <a href="http://jobs.freelanceswitch.com/jobs/21801"><span class="title">Co-founding and leading role for a new sales service product startup</span> <mark>in</mark> Anywhere</a>            </li></ul> <a class="more_jobs" href="http://jobs.freelanceswitch.com/" title="Freelance Job Board"> More Freelance Jobs... </a></div></div><div id="social-networking" class="ui-tabs ui-widget ui-widget-content ui-corner-all"><ul class="navfor-sections ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"><li class="facebook-nav ui-state-default ui-corner-top ui-tabs-selected ui-state-active"><a href="http://net.tutsplus.com/tutorials/php/how-to-authenticate-your-users-with-facebook-connect/#facebook-section"><span>&nbsp;</span>Facebook</a></li><li class="twitter-nav ui-state-default ui-corner-top"><a href="http://net.tutsplus.com/tutorials/php/how-to-authenticate-your-users-with-facebook-connect/#twitter-section"><span>&nbsp;</span>Twitter</a></li><li class="google-plus-nav ui-state-default ui-corner-top"><a href="http://net.tutsplus.com/tutorials/php/how-to-authenticate-your-users-with-facebook-connect/#google-plus-section"><span>&nbsp;</span>Google+</a></li></ul><div id="facebook-section" class="section-fornav ui-tabs-panel ui-widget-content ui-corner-bottom"><fb:like-box href="http://facebook.com/nettutsplus" width="388" height="290" stream="false" fb-xfbml-state="rendered" class="fb_iframe_widget"><span style="height: 290px; width: 388px;"><iframe id="f211bb8b3" name="f1eb7e84e4" scrolling="no" style="border: none; overflow: hidden; height: 290px; width: 388px;" class="fb_ltr" src="./How to Authenticate Users With Facebook Connect   Nettuts+_files/likebox.htm"></iframe></span></fb:like-box></div><div id="twitter-section" class="section-fornav ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"><div><h3>Follow <a href="http://twitter.com/nettuts"><span>Nettuts+</span></a> and <span><a href="http://twitter.com/tutsplus">Tuts+</a></span> on Twitter</h3><ul><li><a href="http://www.twitter.com/fabian_2025">@fabian_2025</a> Thanks!</li><li>Laravel 4: A Start at a RESTful API - <a href="http://t.co/qnnh9qiD">http://t.co/qnnh9qiD</a> <a href="http://twitter.com/#search?q=%23newOnNettuts" rel="external" target="_blank">#newOnNettuts</a></li><li>I just hit publish on my newest Premium course. Lots of Backbone, Yeoman, and RequireJS goodness. <a href="https://t.co/jtj4Lor4">https://t.co/jtj4Lor4</a></li><li><a href="http://www.twitter.com/greg_chapple">@greg_chapple</a> Working on it now! :)</li></ul></div></div><div id="google-plus-section" class="section-fornav ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"><div style="height: 131px; width: 388px; display: inline-block; text-indent: 0px; margin: 0px; padding: 0px; background-color: transparent; border-style: none; float: none; line-height: normal; font-size: 1px; vertical-align: baseline; background-position: initial initial; background-repeat: initial initial;" id="___plus_0"><iframe frameborder="0" hspace="0" marginheight="0" marginwidth="0" scrolling="no" style="position: static; top: 0px; width: 388px; margin: 0px; border-style: none; left: 0px; visibility: visible; height: 131px;" tabindex="0" vspace="0" width="100%" id="I2_1360224553606" name="I2_1360224553606" src="./How to Authenticate Users With Facebook Connect   Nettuts+_files/badge.htm" allowtransparency="true" data-gapiattached="true" title="Google+ Badge"></iframe></div></div></div></div></div></div><div id="footer_wrap"><div id="footer"><p class="footer_text"><strong>Nettuts+</strong> is part of the <a href="http://tutsplus.com/">Tuts+ Network</a>, teaching creative skills to millions worldwide.</p><ul><li><a href="http://net.tutsplus.com/advertise/">Advertise</a><span>·</span></li><li><a href="http://www.formstack.com/forms/envato-tuts__contact_form">Suggestions</a><span>·</span></li><li><a href="http://net.tutsplus.com/about/">About Us</a><span>·</span></li><li><a href="http://net.tutsplus.com/about/tuts-terms-user-agreement/">Terms and Conditions</a><span>·</span></li><li><a href="http://net.tutsplus.com/about/privacy-policy/">Privacy Policy</a><span>·</span></li><li><a href="http://net.tutsplus.com/about/write-a-tutorial/">Write for Us</a></li></ul> <a href="http://net.tutsplus.com/" class="footer_logo">Nettuts+</a><div class="lower_footer"><p class="footer_copy">Copyright © 2013 Envato</p> <a href="http://envato.com/" class="envato_logo">Envato</a></div></div></div>
 <script type="text/javascript" src="./How to Authenticate Users With Facebook Connect   Nettuts+_files/widget.js"></script> <script type="text/javascript">var seriesdropdown = document.getElementById("orgseries_dropdown");
			if (seriesdropdown) {
			 function onSeriesChange() {
					if ( seriesdropdown.options[seriesdropdown.selectedIndex].value != ( 0 || -1 ) ) {
						location.href = "http://net.tutsplus.com/series/"+seriesdropdown.options[seriesdropdown.selectedIndex].value;
					}
				}
				seriesdropdown.onchange = onSeriesChange;
			}</script> <script type="text/javascript">/*<![CDATA[*/// 
        var disqus_shortname = 'nettuts';
        (function () {
            var nodes = document.getElementsByTagName('span');
            for (var i = 0, url; i < nodes.length; i++) {
                if (nodes[i].className.indexOf('dsq-postid') != -1) {
                    nodes[i].parentNode.setAttribute('data-disqus-identifier', nodes[i].getAttribute('rel'));
                    url = nodes[i].parentNode.href.split('#', 1);
                    if (url.length == 1) url = url[0];
                    else url = url[1]
                    nodes[i].parentNode.href = url + '#disqus_thread';
                }
            }
            var s = document.createElement('script'); s.async = true;
            s.type = 'text/javascript';
                        s.src = 'http' + '://' + 'disqus.com/forums/' + disqus_shortname + '/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
    ///*]]>*/</script> <script class="javascript" src="./How to Authenticate Users With Facebook Connect   Nettuts+_files/shCore.js"></script> <script class="javascript" src="./How to Authenticate Users With Facebook Connect   Nettuts+_files/shBrushAll.js"></script> <script class="javascript">dp.SyntaxHighlighter.ClipboardSwf = 'http://net.tutsplus.com/wp-content/plugins/google-syntax-highlighter/Scripts/clipboard.swf';
dp.SyntaxHighlighter.HighlightAll('code');</script><style>.dp-sql .func { color: #ff1493; }.dp-sql .op { color: #808080; }</style><script type="text/javascript" src="./How to Authenticate Users With Facebook Connect   Nettuts+_files/footer.js"></script>
<script type="text/javascript" src="./How to Authenticate Users With Facebook Connect   Nettuts+_files/1342X589339.skimlinks.js"></script>  

<!-- Dynamic Page Served (once) in 1.152 seconds -->
<div id="envato-widget" class="widget-reset" style="display: none;"><div id="envato-widget-switcher-wrap"><div id="envato-widget-switcher"><ul class="switcher-list-left"><li><a href="http://envato.com/" rel="nofollow"><span class="widget-icon icon-envato">&nbsp;</span>Envato</a></li><li><a href="http://themeforest.net/" rel="nofollow"><span class="widget-icon icon-themeforest">&nbsp;</span>ThemeForest</a></li><li><a href="http://graphicriver.net/" rel="nofollow"><span class="widget-icon icon-graphicriver">&nbsp;</span>GraphicRiver</a></li><li><a href="http://videohive.net/" rel="nofollow"><span class="widget-icon icon-videohive">&nbsp;</span>VideoHive</a></li><li><a href="http://audiojungle.net/" rel="nofollow"><span class="widget-icon icon-audiojungle">&nbsp;</span>AudioJungle</a></li><li><a href="http://codecanyon.net/" rel="nofollow"><span class="widget-icon icon-codecanyon">&nbsp;</span>CodeCanyon</a></li><li><a href="http://activeden.net/" rel="nofollow"><span class="widget-icon icon-activeden">&nbsp;</span>ActiveDen</a></li><li><a href="http://3docean.net/" rel="nofollow"><span class="widget-icon icon-3docean">&nbsp;</span>3DOcean</a></li><li><a href="http://marketplace.tutsplus.com/" rel="nofollow"><span class="widget-icon icon-tutsmarketplace">&nbsp;</span>Tuts+ Marketplace</a></li><li><a href="http://photodune.net/" rel="nofollow"><span class="widget-icon icon-photodune">&nbsp;</span>PhotoDune</a></li><li><a href="http://mac.appstorm.net/" rel="nofollow"><span class="widget-icon icon-mac">&nbsp;</span>Mac.Appstorm</a></li><li><a href="http://web.appstorm.net/" rel="nofollow"><span class="widget-icon icon-web">&nbsp;</span>Web.Appstorm</a></li><li><a href="http://iphone.appstorm.net/" rel="nofollow"><span class="widget-icon icon-iphone">&nbsp;</span>iPhone.Appstorm</a></li><li><a href="http://android.appstorm.net/" rel="nofollow"><span class="widget-icon icon-android">&nbsp;</span>Android.Appstorm</a></li><li><a href="http://ipad.appstorm.net/" rel="nofollow"><span class="widget-icon icon-ipad">&nbsp;</span>iPad.Appstorm</a></li><li><a href="http://windows.appstorm.net/" rel="nofollow"><span class="widget-icon icon-windows">&nbsp;</span>Windows.Appstorm</a></li><li><a href="http://creattica.com/" rel="nofollow"><span class="widget-icon icon-creattica">&nbsp;</span>Creattica</a></li></ul><ul class="switcher-list-right"><li><a href="http://freelanceswitch.com/" rel="nofollow"><span class="widget-icon icon-freelanceswitch">&nbsp;</span>FreelanceSwitch</a></li><li><a href="http://jobs.freelanceswitch.com/" rel="nofollow"><span class="widget-icon icon-freelanceswitch-jobs">&nbsp;</span>Freelance Jobs</a></li><li><a href="http://rockablepress.com/" rel="nofollow"><span class="widget-icon icon-rockablepress">&nbsp;</span>Rockable Press</a></li><li><a href="http://tutsplus.com/" rel="nofollow"><span class="widget-icon icon-tutsplus">&nbsp;</span>Tuts+ Premium</a></li><li><a href="http://hub.tutsplus.com/" rel="nofollow"><span class="widget-icon icon-tutsplus">&nbsp;</span>Tuts+ Hub</a></li><li><a href="http://psd.tutsplus.com/" rel="nofollow"><span class="widget-icon icon-psdtuts">&nbsp;</span>Psdtuts+</a></li><li><a href="http://net.tutsplus.com/" rel="nofollow"><span class="widget-icon icon-nettuts">&nbsp;</span>Nettuts+</a></li><li><a href="http://vector.tutsplus.com/" rel="nofollow"><span class="widget-icon icon-vectortuts">&nbsp;</span>Vectortuts+</a></li><li><a href="http://audio.tutsplus.com/" rel="nofollow"><span class="widget-icon icon-audiotuts">&nbsp;</span>Audiotuts+</a></li><li><a href="http://ae.tutsplus.com/" rel="nofollow"><span class="widget-icon icon-aetuts">&nbsp;</span>Aetuts+</a></li><li><a href="http://cg.tutsplus.com/" rel="nofollow"><span class="widget-icon icon-cgtuts">&nbsp;</span>Cgtuts+</a></li><li><a href="http://photo.tutsplus.com/" rel="nofollow"><span class="widget-icon icon-phototuts">&nbsp;</span>Phototuts+</a></li><li><a href="http://mobile.tutsplus.com/" rel="nofollow"><span class="widget-icon icon-mobiletuts">&nbsp;</span>Mobiletuts+</a></li><li><a href="http://webdesign.tutsplus.com/" rel="nofollow"><span class="widget-icon icon-webdesigntuts">&nbsp;</span>Webdesigntuts+</a></li><li><a href="http://wp.tutsplus.com/" rel="nofollow"><span class="widget-icon icon-wptuts">&nbsp;</span>Wptuts+</a></li><li><a href="http://mac.tutsplus.com/" rel="nofollow"><span class="widget-icon icon-mactuts">&nbsp;</span>Mactuts+</a></li><li><a href="http://gamedev.tutsplus.com/" rel="nofollow"><span class="widget-icon icon-gamedevtuts">&nbsp;</span>Gamedevtuts+</a></li><li><a href="http://craft.tutsplus.com/" rel="nofollow"><span class="widget-icon icon-crafttuts">&nbsp;</span>Crafttuts+</a></li></ul></div><span class="switcher-arrow"></span></div><div id="envato-support-wrap"><div id="envato-support"><span class="envato-widget-title">Envato Support</span><ul class="support-list"><li><a href="http://support.envato.com/index.php" rel="nofollow"><span class="widget-icon icon-envato-support-center">&nbsp;</span>Envato Support Center</a></li><li><a href="http://twitter.com/envato_support" rel="nofollow"><span class="widget-icon icon-envato-support-twitter">&nbsp;</span>Envato Support Twitter</a></li></ul></div><span class="switcher-arrow"></span></div><div id="envato-community-wrap"><div id="envato-community"><span class="envato-widget-title">Envato Community</span><ul class="community-list"><li><a href="http://notes.envato.com/" rel="nofollow"><span class="widget-icon icon-envato-notes">&nbsp;</span>Envato Notes</a></li><li><a href="http://extras.envato.com/" rel="nofollow"><span class="widget-icon icon-envato-extras">&nbsp;</span>Envato Extras</a></li><li><a href="http://notes.envato.com/newsletter/" rel="nofollow"><span class="widget-icon icon-envato-newsletter">&nbsp;</span>Envato Newsletter</a></li><li><a href="http://notes.envato.com/category/podcasts/" rel="nofollow"><span class="widget-icon icon-envato-podcast">&nbsp;</span>Envato Podcast</a></li><li><a href="http://wp.envato.com/" rel="nofollow"><span class="widget-icon icon-wp-envato">&nbsp;</span>WP.Envato</a></li><li><a href="http://elite.envato.com/" rel="nofollow"><span class="widget-icon icon-envato-elite">&nbsp;</span>Envato Elite</a></li><li><a href="http://zoo.envato.com/" rel="nofollow"><span class="widget-icon icon-envato-zoo">&nbsp;</span>Envato Zoo</a></li><li><a href="http://www.flickr.com/photos/we-are-envato" rel="nofollow"><span class="widget-icon icon-envato-flickr">&nbsp;</span>Envato Flickr</a></li><li><a href="http://twitter.com/envato" rel="nofollow"><span class="widget-icon icon-envato-twitter">&nbsp;</span>Envato Twitter</a></li><li><a href="http://www.facebook.com/envato" rel="nofollow"><span class="widget-icon icon-envato-facebook">&nbsp;</span>Envato Facebook</a></li><li><a href="http://www.slideshare.net/envato" rel="nofollow"><span class="widget-icon icon-envato-slideshare">&nbsp;</span>Envato Slideshare</a></li><li><a href="http://dribbble.com/envato" rel="nofollow"><span class="widget-icon icon-envato-dribbble">&nbsp;</span>Envato Dribbble</a></li><li><a href="https://github.com/envato" rel="nofollow"><span class="widget-icon icon-envato-github">&nbsp;</span>Envato Github</a></li></ul></div><span class="switcher-arrow"></span></div><a href="javascript:void(0);" class="widget-button envato" rel="nofollow">envato</a><a href="javascript:void(0);" class="widget-button support" rel="nofollow">support</a><a href="javascript:void(0);" class="widget-button community" rel="nofollow">community</a></div></body></html>